<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>org.apache.juneau.xml (Apache Juneau (incubating) 6.2.1-incubating-SNAPSHOT)</title>
<link rel="stylesheet" type="text/css" href="../../../../javadoc.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.apache.juneau.xml (Apache Juneau (incubating) 6.2.1-incubating-SNAPSHOT)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/juneau/utils/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../org/apache/juneau/xml/annotation/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/juneau/xml/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apache.juneau.xml</h1>
<div class="docSummary">
<div class="block">XML serialization and parsing support</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/Namespace.html" title="class in org.apache.juneau.xml">Namespace</a></td>
<td class="colLast">
<div class="block">Represents a simple namespace mapping between a simple name and URI.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/NamespaceFactory.html" title="class in org.apache.juneau.xml">NamespaceFactory</a></td>
<td class="colLast">
<div class="block">Factory class for getting unique instances of <a href="../../../../org/apache/juneau/xml/Namespace.html" title="class in org.apache.juneau.xml"><code>Namespace</code></a> objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlBeanMeta.html" title="class in org.apache.juneau.xml">XmlBeanMeta</a></td>
<td class="colLast">
<div class="block">Metadata on beans specific to the XML serializers and parsers pulled from the <a href="../../../../org/apache/juneau/xml/annotation/Xml.html" title="annotation in org.apache.juneau.xml.annotation"><code>@Xml</code></a> annotation on the class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlBeanPropertyMeta.html" title="class in org.apache.juneau.xml">XmlBeanPropertyMeta</a></td>
<td class="colLast">
<div class="block">Metadata on bean properties specific to the XML serializers and parsers pulled from the <a href="../../../../org/apache/juneau/xml/annotation/Xml.html" title="annotation in org.apache.juneau.xml.annotation"><code>@Xml</code></a> annotation on the bean property.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlClassMeta.html" title="class in org.apache.juneau.xml">XmlClassMeta</a></td>
<td class="colLast">
<div class="block">Metadata on classes specific to the XML serializers and parsers pulled from the <a href="../../../../org/apache/juneau/xml/annotation/Xml.html" title="annotation in org.apache.juneau.xml.annotation"><code>@Xml</code></a> annotation on the class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlDocSerializer.html" title="class in org.apache.juneau.xml">XmlDocSerializer</a></td>
<td class="colLast">
<div class="block">Serializes POJOs to HTTP responses as XML.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlDocSerializer.Ns.html" title="class in org.apache.juneau.xml">XmlDocSerializer.Ns</a></td>
<td class="colLast">
<div class="block">Default serializer without namespaces.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlParser.html" title="class in org.apache.juneau.xml">XmlParser</a></td>
<td class="colLast">
<div class="block">Parses text generated by the <a href="../../../../org/apache/juneau/xml/XmlSerializer.html" title="class in org.apache.juneau.xml"><code>XmlSerializer</code></a> class back into a POJO model.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlParserBuilder.html" title="class in org.apache.juneau.xml">XmlParserBuilder</a></td>
<td class="colLast">
<div class="block">Builder class for building XML parsers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlParserContext.html" title="class in org.apache.juneau.xml">XmlParserContext</a></td>
<td class="colLast">
<div class="block">Configurable properties on the <a href="../../../../org/apache/juneau/xml/XmlParser.html" title="class in org.apache.juneau.xml"><code>XmlParser</code></a> class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlParserSession.html" title="class in org.apache.juneau.xml">XmlParserSession</a></td>
<td class="colLast">
<div class="block">Session object that lives for the duration of a single use of <a href="../../../../org/apache/juneau/xml/XmlParser.html" title="class in org.apache.juneau.xml"><code>XmlParser</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSchemaDocSerializer.html" title="class in org.apache.juneau.xml">XmlSchemaDocSerializer</a></td>
<td class="colLast">
<div class="block">Serializes POJO metadata to HTTP responses as XML.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSchemaSerializer.html" title="class in org.apache.juneau.xml">XmlSchemaSerializer</a></td>
<td class="colLast">
<div class="block">Serializes POJO metadata to HTTP responses as XML.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSchemaSerializerBuilder.html" title="class in org.apache.juneau.xml">XmlSchemaSerializerBuilder</a></td>
<td class="colLast">
<div class="block">Builder class for building instances of XML Schema serializers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializer.html" title="class in org.apache.juneau.xml">XmlSerializer</a></td>
<td class="colLast">
<div class="block">Serializes POJO models to XML.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializer.Ns.html" title="class in org.apache.juneau.xml">XmlSerializer.Ns</a></td>
<td class="colLast">
<div class="block">Default serializer without namespaces.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializer.NsSq.html" title="class in org.apache.juneau.xml">XmlSerializer.NsSq</a></td>
<td class="colLast">
<div class="block">Default serializer without namespaces, single quotes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializer.NsSqReadable.html" title="class in org.apache.juneau.xml">XmlSerializer.NsSqReadable</a></td>
<td class="colLast">
<div class="block">Default serializer without namespaces, single quotes, with whitespace.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializer.Sq.html" title="class in org.apache.juneau.xml">XmlSerializer.Sq</a></td>
<td class="colLast">
<div class="block">Default serializer, single quotes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializer.SqReadable.html" title="class in org.apache.juneau.xml">XmlSerializer.SqReadable</a></td>
<td class="colLast">
<div class="block">Default serializer, single quotes, whitespace added.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializerBuilder.html" title="class in org.apache.juneau.xml">XmlSerializerBuilder</a></td>
<td class="colLast">
<div class="block">Builder class for building instances of XML serializers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializerContext.html" title="class in org.apache.juneau.xml">XmlSerializerContext</a></td>
<td class="colLast">
<div class="block">Configurable properties on the <a href="../../../../org/apache/juneau/xml/XmlSerializer.html" title="class in org.apache.juneau.xml"><code>XmlSerializer</code></a> class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlSerializerSession.html" title="class in org.apache.juneau.xml">XmlSerializerSession</a></td>
<td class="colLast">
<div class="block">Session object that lives for the duration of a single use of <a href="../../../../org/apache/juneau/xml/XmlSerializer.html" title="class in org.apache.juneau.xml"><code>XmlSerializer</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlUtils.html" title="class in org.apache.juneau.xml">XmlUtils</a></td>
<td class="colLast">
<div class="block">XML utility methods.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/juneau/xml/XmlWriter.html" title="class in org.apache.juneau.xml">XmlWriter</a></td>
<td class="colLast">
<div class="block">Specialized writer for serializing XML.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.apache.juneau.xml Description">Package org.apache.juneau.xml Description</h2>
<div class="block"><p>XML serialization and parsing support</p>
<script>
   function toggle(x) {
      var div = x.nextSibling;
      while (div != null && div.nodeType != 1)
         div = div.nextSibling;
      if (div != null) {
         var d = div.style.display;
         if (d == 'block' || d == '') {
            div.style.display = 'none';
            x.className += " closed";
         } else {
            div.style.display = 'block';
            x.className = x.className.replace(/(?:^|\s)closed(?!\S)/g , '' );
         }
      }
   }
</script>

<a id='TOC'></a><h5 class='toc'>Table of Contents</h5>
<ol class='toc'>
   <li><p><a class='doclink' href='#Overview'>XML support overview</a></p> 
   <ol>
      <li><p><a class='doclink' href='#OverviewExample'>XML support overview - example</a></p>
   </ol>
   <li><p><a class='doclink' href='#XmlSerializer'>XmlSerializer class</a></p> 
   <ol>
      <li><p><a class='doclink' href='#Methodology'>XML support methodology</a></p>
      <li><p><a class='doclink' href='#XmlAnnotation'>@Xml annotations</a></p>
      <ol>
         <li><p><a class='doclink' href='#XmlName'>@Bean.typeName()</a></p>
         <li><p><a class='doclink' href='#XmlChildName'>@Xml.childName()</a></p>
         <li><p><a class='doclink' href='#XmlFormat'>@Xml.format()</a></p>
      </ol>
      <li><p><a class='doclink' href='#Namespaces'>Namespaces</a></p>
      <ol>
         <li><p><a class='doclink' href='#AutoDetectNamespaces'>Auto-detection of namespaces</a></p>
      </ol>
      <li><p><a class='doclink' href='#BeanAnnotations'>@Bean and @BeanProperty annotations</a></p>
      <li><p><a class='doclink' href='#Collections'>Collections</a></p>
      <li><p><a class='doclink' href='#XmlSchemaSupport'>XML-Schema support</a></p>
      <li><p><a class='doclink' href='#Recursion'> Non-tree models and recursion detection</a></p>
      <li><p><a class='doclink' href='#SerializerConfigurableProperties'>Configurable properties</a></p>
      <li><p><a class='doclink' href='#SerializerOtherNotes'>Other notes</a></p>
   </ol>
   <li><p><a class='doclink' href='#XmlParser'>XmlParser class</a></p> 
   <ol>
      <li><p><a class='doclink' href='#GenericParsing'>Parsing into generic POJO models</a></p>
      <li><p><a class='doclink' href='#ParserConfigurableProperties'>Configurable properties</a></p>
      <li><p><a class='doclink' href='#ParserOtherNotes'>Other notes</a></p>
   </ol>
   <li><p><a class='doclink' href='#RestApiSupport'>REST API support</a></p> 
   <ol>
      <li><p><a class='doclink' href='#RestServerSupport'>REST server support</a></p>
      <ol>
      <li><p><a class='doclink' href='#RestServletDefault'>Using RestServletDefault</a></p>
      <li><p><a class='doclink' href='#RestServlet'>Using RestServlet with annotations</a></p>
      <li><p><a class='doclink' href='#DefaultProvider'>Using JAX-RS DefaultProvider</a></p>
      <li><p><a class='doclink' href='#BaseProvider'>Using JAX-RS BaseProvider with annotations</a></p>
      </ol>
      <li><p><a class='doclink' href='#RestClientSupport'>REST client support</a></p>
   </ol> 
</ol>


<!-- ======================================================================================================== -->
<a id="Overview"></a>
<h2 class='topic' onclick='toggle(this)'>1 - XML support overview</h2>
<div class='topic'>
   <p>
      Juneau supports converting arbitrary POJOs to and from XML using ultra-efficient serializers and parsers.<br>
      The XML serializer converts POJOs directly to XML without the need for intermediate DOM objects.<br>
      Likewise, the XML parser uses a STaX parser and creates POJOs directly without intermediate DOM objects. 
   </p>
   <p>
      Unlike frameworks such as JAXB, Juneau does not require POJO classes to be annotated to produce
         and consume XML.<br>
      For example, it can serialize and parse instances of any of the following POJO types:
   </p>
   <ul class='spaced-list'>
      <li>Java primitive objects (e.g. <code>String</code>, <code>Integer</code>, <code>Boolean</code>, <code>Float</code>).
      <li>Java collections framework objects (e.g. <code>HashSet</code>, <code>TreeMap</code>) containing anything on this list.
      <li>Multi-dimensional arrays of any type on this list.
      <li>Java Beans with properties of any type on this list.
      <li>Classes with standard transformations to and from <code>Strings</code> (e.g. classes containing <code>toString()</code>, <code>fromString()</code>, <code>valueOf()</code>, <code>constructor(String)</code>).
   </ul>
   <p>
      In addition to the types shown above, Juneau includes the ability to define transforms to transform non-standard object and 
         property types to serializable forms (e.g. to transform <code>Calendars</code> to and from <code>ISO8601</code> strings, 
         or <code>byte[]</code> arrays to and from base-64 encoded strings).<br>
      These transforms can be associated with serializers/parsers, or can be associated with classes or bean properties through type and method annotations.
   </p>
   <p>
      Refer to <a href='../../../../overview-summary.html#Core.PojoCategories' class='doclink'>POJO Categories</a> for a complete definition of supported POJOs.
   </p>
   <p>
      While annotations are not required to produce or consume XML, several XML annotations are provided 
         for handling namespaces and fine-tuning the format of the XML produced.
   </p>
   <h6 class='topic'>Prerequisites</h6>
   <p>
      The Juneau XML serialization and parsing support does not require any external prerequisites.  
      It only requires Java 1.6 or above.
   </p>

   <!-- ======================================================================================================== -->
   <a id="OverviewExample"></a>
   <h3 class='topic' onclick='toggle(this)'>1.1 - XML support overview - example</h3>
   <div class='topic'>
      <p>
         The example shown here is from the Address Book resource located in the <code>juneau-examples-rest</code> microservice project.<br>
         The POJO model consists of a <code>List</code> of <code>Person</code> beans, with each <code>Person</code> containing
            zero or more <code>Address</code> beans.
      </p>
      <p>
         When you point a browser at <code>/sample/addressBook</code>, the POJO is rendered as HTML:
      </p>
      <img class='bordered' src="doc-files/Example_HTML.png">
      <p>
         By appending <code>?Accept=<i>mediaType</i>&amp;plainText=true</code> to the URL, you can view the data in the various supported XML formats:
      </p>
      
      <h6 class='figure'>Normal XML</h6>
      <img class='bordered' src="doc-files/Example_XML.png">
      
      <h6 class='figure'>Simplified XML</h6>
      <img class='bordered' src="doc-files/Example_XMLSimple.png">

      <p>
         In addition to serializing POJOs to XML, Juneau includes support for serializing the POJO metamodel to XML Schema, with 
            support for multiple namespaces.
      </p>
      
      <h6 class='figure'>XML Schema</h6>
      <img class='bordered' src="doc-files/Example_XMLSchema.png">

   </div>
</div>


<!-- ======================================================================================================== -->
<a id="XmlSerializer"></a>
<h2 class='topic' onclick='toggle(this)'>2 - XmlSerializer class</h2>
<div class='topic'>
   <p>
      <a href="../../../../org/apache/juneau/xml/XmlSerializer.html" title="class in org.apache.juneau.xml"><code>XmlSerializer</code></a> is the class used to convert POJOs to XML.<br>
      <a href="../../../../org/apache/juneau/xml/XmlDocSerializer.html" title="class in org.apache.juneau.xml"><code>XmlDocSerializer</code></a> is a subclass that adds an XML declaration element to the output before the POJO is serialized.
   </p>  
   <p>
      The XML serializer includes many configurable settings.<br>
      Static reusable instances of XML serializers are provided with commonly-used settings:
   </p>
   <ul class='spaced-list'>
      <li><a href="../../../../org/apache/juneau/xml/XmlSerializer.html#DEFAULT"><code>XmlSerializer.DEFAULT</code></a> - All default settings.
      <li><a href="../../../../org/apache/juneau/xml/XmlSerializer.html#DEFAULT_SQ"><code>XmlSerializer.DEFAULT_SQ</code></a> - Use single quotes on attributes.  Typically useful for testing since it makes string comparison simpler.
      <li><a href="../../../../org/apache/juneau/xml/XmlSerializer.html#DEFAULT_SQ_READABLE"><code>XmlSerializer.DEFAULT_SQ_READABLE</code></a> - Use single quotes on attributes and add whitespace for readability.
      <li><a href="../../../../org/apache/juneau/xml/XmlSerializer.html#DEFAULT_NS"><code>XmlSerializer.DEFAULT_NS</code></a> - Same as DEFAULT but with namespaces enabled.
      <li><a href="../../../../org/apache/juneau/xml/XmlSerializer.html#DEFAULT_NS_SQ"><code>XmlSerializer.DEFAULT_NS_SQ</code></a> - Same as DEFAULT_SQ but with namespaces enabled.
      <li><a href="../../../../org/apache/juneau/xml/XmlSerializer.html#DEFAULT_NS_SQ_READABLE"><code>XmlSerializer.DEFAULT_NS_SQ_READABLE</code></a> - Same as DEFAULT_SQ_READABLE but with namespaces enabled.
   </ul>
   <p>
      In addition, DTO beans are provided that use the XML serializer and parser for the following languages:
   </p>
   <ul>
      <li><a class='doclink' href='../dto/atom/package-summary.html#TOC'>org.apache.juneau.dto.atom</a> - ATOM beans.
      <li><a class='doclink' href='../dto/cognos/package-summary.html#TOC'>org.apache.juneau.dto.cognos</a> - Cognos beans.
      <li><a class='doclink' href='../dto/html5/package-summary.html#TOC'>org.apache.juneau.dto.html5</a> - HTML5 beans.
   </ul>
   <p>
      Refer to the package-level Javadocs for more information about those formats.
   </p>
   <h6 class='topic'>Notes about examples</h6>
   <p>
      The examples shown in this document will use single-quote, readable settings.<br>
      For brevity, the examples will use public fields instead of getters/setters to reduce the size of the examples.<br>
      In the real world, you'll typically want to use standard bean getters and setters.
   </p>
   <p>
      To start off simple, we'll begin with the following simplified bean and build upon it.
   </p>
   <p class='bcode'>
   <jk>public class</jk> Person {
      <jc>// Bean properties</jc>
      <jk>public int</jk> <jf>id</jf>;
      <jk>public</jk> String <jf>name</jf>;

      <jc>// Bean constructor (needed by parser)</jc>
      <jk>public</jk> Person() {}

      <jc>// Normal constructor</jc>
      <jk>public</jk> Person(<jk>int</jk> id, String name) {
         <jk>this</jk>.<jf>id</jf> = id;
         <jk>this</jk>.<jf>name</jf> = name;
      }
   }
   </p>
   <p>
      The following code shows how to convert this to simple XML (no namespaces):
   </p>
   <p class='bcode'>
   <jc>// Create a new serializer with readable output, no namespaces yet.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder()
      .ws()  <jc>// or .useWhitespace(true)</jc>  
      .sq()  <jc>// or .quoteChar('\'')</jc>
      .ns()  <jc>// or .enableNamespaces(false)</jc>
      .build();

   <jc>// Create our bean.</jc>
   Person p = <jk>new</jk> Person(1, <js>"John Smith"</js>);

   <jc>// Serialize the bean to XML.</jc>
   String xml = s.serialize(p);
   </p>
   <p>
      <i>Side note:</i>  Serializers can also be created by cloning existing serializers:
   </p>
   <p class='bcode'>
   <jc>// Create a new serializer with readable output, no namespaces yet, but use cloning method.</jc>
   XmlSerializer s = XmlSerializer.<jsf>DEFAULT_SQ_READABLE</jsf>
      .builder()
      .ns()
      .build();
   </p>
   <p>
      The code above produces the following output:
   </p>
   <p class='bcode'><xt>
   &lt;object&gt;
      &lt;id&gt;<xv>1</xv>&lt;/id&gt;
      &lt;name&gt;<xv>John Smith</xv>&lt;/name&gt;
   &lt;/object&gt;
   </xt></p>
   <p>
      The first thing you may notice is how the bean instance is represented by the element <xt>&lt;object&gt;</xt>.<br>
      When objects have no name associated with them, Juneau provides a default generalized name that maps to the equivalent JSON data type.<br>
      Some cases when objects do not have names:
   </p>
   <ul>
      <li>Root element
      <li>Object in an array, collection, or map.
   </ul>
   <p>
      The generalized name reflects the JSON-equivalent data type.<br>
      Juneau produces JSON-equivalent XML, meaning any valid JSON document can be losslessly converted into an XML equivalent.<br>  
      In fact, all of the Juneau serializers and parsers are built upon this JSON-equivalency.
   </p>

   
   <!-- ======================================================================================================== -->
   <a id="Methodology"></a>
   <h3 class='topic' onclick='toggle(this)'>2.1 - XML support methodology</h3>
   <div class='topic'>
      <p>
         The following examples show how different data types are represented in XML.
         They mirror how the data structures are represented in JSON.
      </p>
      <h6 class='topic'>Simple types</h6>
      <p>
         The representation of loose (not a direct bean property value) simple types are shown below:
      </p>
      <table class='styled' style='width:auto'>
         <tr>
            <th>Data type</th>
            <th>JSON example</th>
            <th>XML</th>
         </tr>
         <tr>
            <td>string</td>
            <td class='code'><js>'foo'</js></td>
            <td class='code'><xt>&lt;string&gt;</xt>foo<xt>&lt;/string&gt;</xt></td>
         </tr>
         <tr>
            <td>boolean</td>
            <td class='code'><jk>true</jk></td>
            <td class='code'><xt>&lt;boolean&gt;</xt>true<xt>&lt;/boolean&gt;</xt></td>
         </tr>
         <tr>
            <td>integer</td>
            <td class='code'>123</td>
            <td class='code'><xt>&lt;number&gt;</xt>123<xt>&lt;/number&gt;</xt></td>
         </tr>
         <tr>
            <td>float</td>
            <td class='code'>1.23</td>
            <td class='code'><xt>&lt;number&gt;</xt>1.23<xt>&lt;/number&gt;</xt></td>
         </tr>
         <tr>
            <td>null</td>
            <td class='code'><jk>null</jk></td>
            <td class='code'><xt>&lt;null/&gt;</xt></td>
         </tr>
      </table>
      <h6 class='topic'>Maps</h6>
      <p>
         Loose maps and beans use the element <xt>&lt;object&gt;</xt> for encapsulation.
      </p>
      <p>
         <xa>_type</xa> attributes are added to bean properties or map entries if the type cannot be inferred through reflection (e.g. an <code>Object</code> or superclass/interface value type).
      </p>
      <table class='styled' style='width:auto'>
         <tr>
            <th>Data type</th>
            <th>JSON example</th>
            <th>XML</th>
         </tr>
         <tr>
            <td class='code'>
   Map&lt;String,String&gt;
            </td>
            <td class='code'>
   {
      k1: <js>'v1'</js>
      k2: <jk>null</jk>
   }
            </td>
            <td class='code'><xt>
   &lt;object&gt;
      &lt;k1&gt;<xv>v1</xv>&lt;/k1&gt;
      &lt;k2 <xa>_type</xa>=<xs>'null'</xs>/&gt;
   &lt;/object&gt;
         </xt></td>
         </tr>
         <tr>
            <td class='code'>
   Map&lt;String,Number&gt;
            </td>
            <td class='code'>
   {
      k1: 123,
      k2: 1.23,
      k3: <jk>null</jk>
   }
            </td>
            <td class='code'><xt>
   &lt;object&gt;
      &lt;k1&gt;<xv>123</xv>&lt;/k1&gt;
      &lt;k2&gt;<xv>1.23</xv>&lt;/k2&gt;
      &lt;k3 <xa>_type</xa>=<xs>'null'</xs>/&gt;
   &lt;/object&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   Map&lt;String,Object&gt;
            </td>
            <td class='code'>
   {
      k1: <js>'v1'</js>
      k2: 123,
      k3: 1.23,
      k4: <jk>true</jk>,
      k5: <jk>null</jk>
   }
            </td>
            <td class='code'><xt>
   &lt;object&gt;
      &lt;k1&gt;<xv>v1</xv>&lt;/k1&gt;
      &lt;k2 <xa>_type</xa>=<xs>'number'</xs>&gt;<xv>123</xv>&lt;/k2&gt;
      &lt;k3 <xa>_type</xa>=<xs>'number'</xs>&gt;<xv>1.23</xv>&lt;/k3&gt;
      &lt;k4 <xa>_type</xa>=<xs>'boolean'</xs>&gt;<xv>true</xv>&lt;/k4&gt;
      &lt;k5 <xa>_type</xa>=<xs>'null'</xs>/&gt;
   &lt;/object&gt;
            </xt></td>
         </tr>
      </table>
      
      <h6 class='topic'>Arrays</h6>
      <p>
         Loose collections and arrays use the element <xt>&lt;array&gt;</xt> for encapsulation.
      </p>
      <table class='styled' style='width:auto'>
         <tr>
            <th>Data type</th>
            <th>JSON example</th>
            <th>XML</th>
         </tr>
         <tr>
            <td class='code'>
   String[]
            </td>
            <td class='code'>
   [
      <js>'foo'</js>
      <jk>null</jk>
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
      &lt;null/&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   Number[]
            </td>
            <td class='code'>
   [
      123,
      1.23,
      <jk>null</jk>
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;number&gt;<xv>123</xv>&lt;/number&gt;
      &lt;number&gt;<xv>1.23</xv>&lt;/number&gt;
      &lt;null/&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   Object[]
            </td>
            <td class='code'>
   [
      <js>'foo'</js>,
      123,
      1.23,
      <jk>true</jk>,
      <jk>null</jk>
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
      &lt;number&gt;<xv>123</xv>&lt;/number&gt;
      &lt;number&gt;<xv>1.23</xv>&lt;/number&gt;
      &lt;boolean&gt;<xv>true</xv>&lt;/boolean&gt;
      &lt;null/&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   String[][]
            </td>
            <td class='code'>
   [
      [<js>'foo'</js>, <jk>null</jk>],
      <jk>null</jk>,
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;array&gt;
         &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
         &lt;null/&gt;
      &lt;/array&gt;
      &lt;null/&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   <jk>int</jk>[]
            </td>
            <td class='code'>
   [
      123
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;number&gt;<xv>123</xv>&lt;/number&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   <jk>boolean</jk>[]
            </td>
            <td class='code'>
   [
      <jk>true</jk>
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;boolean&gt;<xv>true</xv>&lt;/boolean&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   List&lt;String&gt;
            </td>
            <td class='code'>
   [
      <js>'foo'</js>
      <jk>null</jk>
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
      &lt;null/&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   List&lt;Number&gt;
            </td>
            <td class='code'>
   [
      123,
      1.23,
      <jk>null</jk>
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;number&gt;<xv>123</xv>&lt;/number&gt;
      &lt;number&gt;<xv>1.23</xv>&lt;/number&gt;
      &lt;null/&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
         <tr>
            <td class='code'>
   List&lt;Object&gt;
            </td>
            <td class='code'>
   [
      <js>'foo'</js>,
      123,
      1.23,
      <jk>true</jk>,
      <jk>null</jk>
   ]
            </td>
            <td class='code'><xt>
   &lt;array&gt;
      &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
      &lt;number&gt;<xv>123</xv>&lt;/number&gt;
      &lt;number&gt;<xv>1.23</xv>&lt;/number&gt;
      &lt;boolean&gt;<xv>true</xv>&lt;/boolean&gt;
      &lt;null/&gt;
   &lt;/array&gt;
            </xt></td>
         </tr>
      </table>

      <h6 class='topic'>Beans</h6>
      <table class='styled' style='width:auto'>
         <tr>
            <th>Data type</th>
            <th>JSON example</th>
            <th>XML</th>
         </tr>
         <tr>
            <td class='code'>
   <jk>class</jk> MyBean {
      <jk>public</jk> String a;
      <jk>public</jk> <jk>int</jk> b;
      <jk>public</jk> Object c;  <jc>// String value</jc>
      <jk>public</jk> Object d;  <jc>// Integer value</jc>     
      <jk>public</jk> MyBean2 e;  
      <jk>public</jk> String[] f;  
      <jk>public</jk> <jk>int</jk>[] g;   
   }
   <jk>class</jk> MyBean2 {
      String h;  
   }
            </td>
            <td class='code'>
   {
      a: <js>'foo'</js>,
      b: 123,
      c: <js>'bar'</js>,
      d: 456,
      e: {
         h: <js>'baz'</js>
      }
      f: [<js>'qux'</js>]
      g: [789]
   }
            </td>
            <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;<xv>foo</xv>&lt;/a&gt;
      &lt;b&gt;<xv>123</xv>&lt;/b&gt;
      &lt;c&gt;<xv>bar</xv>&lt;/c&gt;
      &lt;d <xa>_type</xa>=<xs>'number'</xs>&gt;<xv>456</xv>&lt;/d&gt;
      &lt;e&gt;
         &lt;h&gt;<xv>baz</xv>&lt;/h&gt;
      &lt;/e&gt;
      &lt;f&gt;
         &lt;string&gt;<xv>qux</xv>&lt;/string&gt;
      &lt;/f&gt;
      &lt;g&gt;
         &lt;number&gt;<xv>789</xv>&lt;/number&gt;
      &lt;/g&gt;
   &lt;/object&gt;
            </xt></td>
         </tr>
      </table>
      <h6 class='topic'>Beans with Map properties</h6>
      <table class='styled' style='width:auto'>
         <tr>
            <th>Data type</th>
            <th>JSON example</th>
            <th>XML</th>
         </tr>
         <tr>
            <td class='code'>
   <jk>class</jk> MyBean {
      <jk>public</jk> Map&lt;String,String&gt; a;
      <jk>public</jk> Map&lt;String,Number&gt; b;
      <jk>public</jk> Map&lt;String,Object&gt; c; 
   }
            </td>
            <td class='code'>
   {
      a: {
         k1: <js>'foo'</js>
      },
      b: {
         k2: 123
      },
      c: {
         k3: <js>'bar'</js>,
         k4: 456,
         k5: <jk>true</jk>,
         k6: <jk>null</jk>
      }
   }
            </td>
            <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;k1&gt;<xv>foo</xv>&lt;/k1&gt;
      &lt;/a&gt;
      &lt;b&gt;
         &lt;k2&gt;<xv>123</xv>&lt;/k2&gt;
      &lt;/b&gt;
      &lt;c&gt;
         &lt;k3&gt;<xv>bar</xv>&lt;/k3&gt;
         &lt;k4 <xa>_type</xa>=<xs>'number'</xs>&gt;<xv>456</xv>&lt;/k4&gt;
         &lt;k5 <xa>_type</xa>=<xs>'boolean'</xs>&gt;<xv>true</xv>&lt;/k5&gt;
         &lt;k6 <xa>_type</xa>=<xs>'null'</xs>/&gt;
      &lt;/c&gt;
   &lt;/object&gt;
            </xt></td>
         </tr>
      </table>
   </div>
      
      
   <!-- ======================================================================================================== -->
   <a id="XmlAnnotation"></a>
   <h3 class='topic' onclick='toggle(this)'>2.2 - @Xml annotations</h3>
   <div class='topic'>
      <p>
         Just because Juneau allows you to serialize ordinary POJOs to XML doesn't mean you are limited to just JSON-equivalent XML.<br>
         Several annotations are provided in the <a class='doclink' href='annotation/package-summary.html#TOC'>org.apache.juneau.xml.annotation</a> package for customizing the output.
      </p>

      <!-- ======================================================================================================== -->
      <a id="XmlName"></a>
      <h4 class='topic' onclick='toggle(this)'>2.2.1 - @Bean.typeName()</h4>
      <div class='topic'>
         <p>
            The <a href="../../../../org/apache/juneau/annotation/Bean.html#typeName--"><code>@Bean.typeName()</code></a> annotation can be used to override the Juneau default name on bean elements. 
            Types names serve two distinct purposes:
         </p>
         <ol>
            <li>To override the element name.
            <li>To serve as a class identifier so that the bean class can be inferred during parsing if it
               cannot automatically be inferred through reflection.
         </ol>
         <h6 class='figure'>Example</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)
   <jk>class</jk> MyBean {
      <jk>public</jk> String a;
      <jk>public int</jk> b;
   }  
               </td>
               <td class='code'>
   {
      a: <js>'foo'</js>,
      b: 123
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;<xv>foo</xv>&lt;/id&gt;
      &lt;b&gt;<xv>123</xv>&lt;/name&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;X&gt;
      &lt;a&gt;<xv>foo</xv>&lt;/id&gt;
      &lt;b&gt;<xv>123</xv>&lt;/name&gt;
   &lt;/X&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            On bean properties, a <xa>_type</xa> attribute will be added if a type name is present and the bean class cannot be inferred through reflection.
         </p>
         <p>
            In the following example, a type attribute is used on property 'b' but not property 'a' since
            'b' is of type <code>Object</code> and therefore the bean class cannot be inferred.
         </p>
         <h6 class='figure'>Example</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Java</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <jk>public</jk> BeanX a = <jk>new</jk> BeanX();
      <jk>public</jk> Object b = <jk>new</jk> BeanX();
   }
   
   <ja>@Bean</ja>(typeName=<js>"X"</js>)
   <jk>class</jk> BeanX {
      <jk>public</jk> String fx = <js>"foo"</js>;
   }
      
               </td>
               <td class='code'><xt>
&lt;object&gt;
   &lt;a&gt;
      &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
   &lt;/a&gt;
   &lt;b&gt;
      &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
   &lt;/b&gt;
&lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
&lt;object&gt;
   &lt;a&gt;
      &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
   &lt;/a&gt;
   &lt;b <xa>_type</xa>=<xs>'X'</xs>&gt;
      &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
   &lt;/b&gt;
&lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <ul class='doctree'>
            <li class='info'>
               <code>string</code>, <code>number</code>, <code>boolean</code>, <code>object</code>, <code>array</code>, and <code>null</code> are reserved keywords that cannot be used as type names.
         </ul>
         <p>
            Beans with type names are often used in conjunction with the <a href="../../../../org/apache/juneau/annotation/Bean.html#beanDictionary--"><code>@Bean.beanDictionary()</code></a> and 
               <a href="../../../../org/apache/juneau/annotation/BeanProperty.html#beanDictionary--"><code>@BeanProperty.beanDictionary()</code></a> annotations so that the beans can be
               resolved at parse time.  These annotations are not necessary during serialization, but are needed during parsing in order to resolve the
               bean types.
         </p>
         <p>
            The following examples show how type names are used under various circumstances.  
         </p>
         <p>
            Pay special attention to when <xa>_type</xa> attributes are and are not used.
         </p>
         <h6 class='figure'>Examples</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Java</th>
               <th>XML</th>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(beanDictionary={BeanX.<jk>class</jk>})
   <jk>class</jk> BeanWithArrayPropertiesWithTypeNames {
      <jk>public</jk> BeanX[] b1 = <jk>new</jk> BeanX[]{ 
         <jk>new</jk> BeanX() 
      };
      <jk>public</jk> Object[] b2 = <jk>new</jk> BeanX[]{ 
         <jk>new</jk> BeanX() 
      };
      <jk>public</jk> Object[] b3 = <jk>new</jk> Object[]{ 
         <jk>new</jk> BeanX() 
      };
   }
               </td>          
               <td class='code'><xt>
   &lt;object&gt;
      &lt;b1&gt;
         &lt;X&gt;
            &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
         &lt;/X&gt;
      &lt;/b1&gt;
      &lt;b2&gt;
         &lt;X&gt;
            &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
         &lt;/X&gt;
      &lt;/b2&gt;
      &lt;b3&gt;
         &lt;X&gt;
            &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
         &lt;/X&gt;
      &lt;/b3&gt;
   &lt;/object&gt;
               </xt></td>           
            </tr>          
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(beanDictionary={BeanX.<jk>class</jk>})
   <jk>class</jk> BeanWith2dArrayPropertiesWithTypeNames {
      <jk>public</jk> BeanX[][] b1 = <jk>new</jk> BeanX[][]{{
         <jk>new</jk> BeanX()
      }};
      <jk>public</jk> Object[][] b2 = <jk>new</jk> BeanX[][]{{
         <jk>new</jk> BeanX()
      }};
      <jk>public</jk> Object[][] b3 = <jk>new</jk> Object[][]{{
         <jk>new</jk> BeanX()
      }};
   }
               </td>          
               <td class='code'><xt>
   &lt;object&gt;
      &lt;b1&gt;
         &lt;array&gt;
            &lt;X&gt;
               &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
            &lt;/X&gt;
         &lt;/array&gt;
      &lt;/b1&gt;
      &lt;b2&gt;
         &lt;array&gt;
            &lt;X&gt;
               &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
            &lt;/X&gt;
         &lt;/array&gt;
      &lt;/b2&gt;
      &lt;b3&gt;
         &lt;array&gt;
            &lt;X&gt;
               &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
            &lt;/X&gt;
         &lt;/array&gt;
      &lt;/b3&gt;
   &lt;/object&gt;
               </xt></td>           
            </tr>    
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(beanDictionary={BeanX.<jk>class</jk>})
   <jk>class</jk> BeanWithMapPropertiesWithTypeNames {
      <jk>public</jk> Map&lt;String,BeanX&gt; b1 = <jk>new</jk> HashMap&lt;&gt;() {{ 
         put(<js>"k1"</js>, <jk>new</jk> BeanX()); 
      }};
      <jk>public</jk> Map&lt;String,Object&gt; b2 = <jk>new</jk> HashMap&lt;&gt;() {{
         put(<js>"k2"</js>, <jk>new</jk> BeanX());
      }}
   }
               </td>          
               <td class='code'><xt>
   &lt;object&gt;
      &lt;b1&gt;
         &lt;k1&gt;
            &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
         &lt;/k1&gt;
      &lt;/b1&gt;
      &lt;b2&gt;
         &lt;k2 <xa>_type</xa>=<xs>'X'</xs>&gt;
            &lt;fx&gt;<xv>foo</xv>&lt;/fx&gt;
         &lt;/k2&gt;
      &lt;/b2&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            Bean type names are also used for resolution when abstract fields are used.
            The following examples show how they are used in a variety of circumstances.
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Java</th>
               <th>XML</th>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(beanDictionary={A.<jk>class</jk>})
   <jk>class</jk> BeanWithAbstractFields {
      <jk>public</jk> A a = <jk>new</jk> A();
      <jk>public</jk> IA ia = <jk>new</jk> A();
      <jk>public</jk> AA aa = <jk>new</jk> A();
      <jk>public</jk> Object o = <jk>new</jk> A();
   }
   
   <jk>interface</jk> IA {}
   
   <jk>abstract class</jk> AA <jk>implements</jk> IA {}

   <ja>@Bean</ja>(typeName=<js>"A"</js>)
   <jk>class</jk> A <jk>extends</jk> AA {
      <jk>public</jk> String fa = <js>"foo"</js>;
   }
               </td>          
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
      &lt;/a&gt;
      &lt;ia <xa>_type</xa>=<xs>'A'</xs>&gt;
         &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
      &lt;/ia&gt;
      &lt;aa <xa>_type</xa>=<xs>'A'</xs>&gt;
         &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
      &lt;/aa&gt;
      &lt;o <xa>_type</xa>=<xs>'A'</xs>&gt;
         &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
      &lt;/o&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(beanDictionary={A.<jk>class</jk>})
   <jk>class</jk> BeanWithAbstractArrayFields {
      <jk>public</jk> A[] a = <jk>new</jk> A[]{<jk>new</jk> A()};
      <jk>public</jk> IA[] ia1 = <jk>new</jk> A[]{<jk>new</jk> A()};
      <jk>public</jk> IA[] ia2 = <jk>new</jk> IA[]{<jk>new</jk> A()};
      <jk>public</jk> AA[] aa1 = <jk>new</jk> A[]{<jk>new</jk> A()};
      <jk>public</jk> AA[] aa2 = <jk>new</jk> AA[]{<jk>new</jk> A()};
      <jk>public</jk> Object[] o1 = <jk>new</jk> A[]{<jk>new</jk> A()};
      <jk>public</jk> Object[] o2 = <jk>new</jk> Object[]{<jk>new</jk> A()};
   }
               </td>          
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;A&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/A&gt;
      &lt;/a&gt;
      &lt;ia1&gt;
         &lt;A&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/A&gt;
      &lt;/ia1&gt;
      &lt;ia2&gt;
         &lt;A&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/A&gt;
      &lt;/ia2&gt;
      &lt;aa1&gt;
         &lt;A&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/A&gt;
      &lt;/aa1&gt;
      &lt;aa2&gt;
         &lt;A&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/A&gt;
      &lt;/aa2&gt;
      &lt;o1&gt;
         &lt;A&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/A&gt;
      &lt;/o1&gt;
      &lt;o2&gt;
         &lt;A&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/A&gt;
      &lt;/o2&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(beanDictionary={A.<jk>class</jk>})
   <jk>class</jk> BeanWithAbstractMapFields {
      <jk>public</jk> Map&lt;String,A&gt; a = <jk>new</jk> HashMap&lt;&gt;() {{
         put(<js>"k1"</js>, <jk>new</jk> A());
      }};
      <jk>public</jk> Map&lt;String,AA&gt; b = <jk>new</jk> HashMap&lt;&gt;() {{
         put(<js>"k2"</js>, <jk>new</jk> A());
      }};
      <jk>public</jk> Map&lt;String,Object&gt; c = <jk>new</jk> HashMap&lt;&gt;() {{
         put(<js>"k3"</js>, <jk>new</jk> A());
      }};
   }
               </td>          
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;k1&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/k1&gt;
      &lt;/a&gt;
      &lt;b&gt;
         &lt;k2 <xa>_type</xa>=<xs>'A'</xs>&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/k2&gt;
      &lt;/b&gt;
      &lt;c&gt;
         &lt;k3 <xa>_type</xa>=<xs>'A'</xs>&gt;
            &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
         &lt;/k3&gt;
      &lt;/c&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(beanDictionary={A.<jk>class</jk>})
   <jk>class</jk> BeanWithAbstractMapArrayFields {
      <jk>public</jk> Map&lt;String,A[]&gt; a = <jk>new</jk> LinkedHashMap&lt;&gt;() {{
         put(<js>"a1"</js>, <jk>new</jk> A[]{<jk>new</jk> A()});
      }};
      <jk>public</jk> Map&lt;String,IA[]&gt; ia = <jk>new</jk> LinkedHashMap&lt;&gt;() {{
         put(<js>"ia1"</js>, <jk>new</jk> A[]{<jk>new</jk> A()});
         put(<js>"ia2"</js>, <jk>new</jk> IA[]{<jk>new</jk> A()});
      }};
      <jk>public</jk> Map&lt;String,AA[]&gt; aa = <jk>new</jk> LinkedHashMap&lt;&gt;() {{
         put(<js>"aa1"</js>, <jk>new</jk> A[]{<jk>new</jk> A()});
         put(<js>"aa2"</js>, <jk>new</jk> AA[]{<jk>new</jk> A()});
      }};
      <jk>public</jk> Map&lt;String,Object[]&gt; o = <jk>new</jk>LinkedHashMap&lt;&gt;() {{
         put(<js>"o1"</js>, <jk>new</jk> A[]{<jk>new</jk> A()});
         put(<js>"o2"</js>, <jk>new</jk> AA[]{<jk>new</jk> A()});
      }};
   }
               </td>          
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;a1&gt;
            &lt;A&gt;
               &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
            &lt;/A&gt;
         &lt;/a1&gt;
      &lt;/a&gt;
      &lt;ia&gt;
         &lt;ia1&gt;
            &lt;A&gt;
               &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
            &lt;/A&gt;
         &lt;/ia1&gt;
         &lt;ia2&gt;
            &lt;A&gt;
               &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
            &lt;/A&gt;
         &lt;/ia2&gt;
      &lt;/ia&gt;
      &lt;aa&gt;
         &lt;aa1&gt;
            &lt;A&gt;
               &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
            &lt;/A&gt;
         &lt;/aa1&gt;
         &lt;aa2&gt;
            &lt;A&gt;
               &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
            &lt;/A&gt;
         &lt;/aa2&gt;
      &lt;/aa&gt;
      &lt;o&gt;
         &lt;o1&gt;
            &lt;A&gt;
               &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
            &lt;/A&gt;
         &lt;/o1&gt;
         &lt;o2&gt;
            &lt;A&gt;
               &lt;fa&gt;<xv>foo</xv>&lt;/fa&gt;
            &lt;/A&gt;
         &lt;/o2&gt;
      &lt;/o&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            On a side note, characters that cannot be represented in XML 1.0 are encoded using a simple encoding.
            Note in the examples below, some characters such as <js>'\n'</js>, <js>'\t</js>', and <js>'\r'</js>
            can be represented as XML entities when used in text but not in element names.  Other characters such as
            <js>'\b'</js> and <js>'\f'</js> cannot be encoded in XML 1.0 at all without inventing our own notation.
            Whitespace characters in element names are encoded as well as whitespace end characters in text.
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Java</th>
               <th>XML</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> BeanWithSpecialCharacters {
      <jk>public</jk> String a = <js>"  \b\f\n\t\r  "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;<xv>_x0020_ _x0008__x000C_&amp;#x000a;&amp;#x0009;&amp;#x000d; _x0020_</xv>&lt;/a&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"  \b\f\n\t\r  "</js>)
   <jk>class</jk> BeanWithNamesWithSpecialCharacters {
      <ja>@BeanProperty</ja>(name=<js>"  \b\f\n\t\r  "</js>)
      <jk>public</jk> String a = <js>"  \b\f\n\t\r  "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;_x0020__x0020__x0008__x000C__x000A__x0009__x000D__x0020__x0020_&gt;
      &lt;_x0020__x0020__x0008__x000C__x000A__x0009__x000D__x0020__x0020_&gt;<xv>_x0020_ _x0008__x000C_&amp;#x000a;&amp;#x0009;&amp;#x000d; _x0020_</xv>&lt;/_x0020__x0020__x0008__x000C__x000A__x0009__x000D__x0020__x0020_&gt;
   &lt;/_x0020__x0020__x0008__x000C__x000A__x0009__x000D__x0020__x0020_&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            While it's true that these characters CAN be represented in XML 1.1, it's impossible to parse XML 1.1 text in
            Java without the XML containing an XML declaration.
            Unfortunately, this, and the uselessness of the <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/stream/XMLInputFactory.html?is-external=true#IS_REPLACING_ENTITY_REFERENCES" title="class or interface in javax.xml.stream"><code>XMLInputFactory.IS_REPLACING_ENTITY_REFERENCES</code></a> setting in Java
            forced us to make some hard design decisions that may not be the most elegant.
         </p>
      </div>
      

      <!-- ======================================================================================================== -->
      <a id="XmlChildName"></a>
      <h4 class='topic' onclick='toggle(this)'>2.2.2 - @Xml.childName()</h4>
      <div class='topic'>     
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/Xml.html#childName--"><code>@Xml.childName()</code></a> annotation can be used to specify the name of XML 
               child elements for bean properties of type collection or array.
         </p>
         <h6 class='figure'>Example</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(childName=<js>"X"</js>)
      <jk>public</jk> String[] a;
      <ja>@Xml</ja>(childName=<js>"Y"</js>)
      <jk>public</jk> int[] b;
   }
               </td>
               <td class='code'>
   {
      a: [<js>'foo'</js>,<js>'bar'</js>],
      b: [123,456]
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
         &lt;string&gt;<xv>bar</xv>&lt;/string&gt;
      &lt;/a&gt;
      &lt;b&gt;
         &lt;number&gt;<xv>123</xv>&lt;/number&gt;
         &lt;number&gt;<xv>456</xv>&lt;/number&gt;
      &lt;/b&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;X&gt;<xv>foo</xv>&lt;/X&gt;
         &lt;X&gt;<xv>bar</xv>&lt;/X&gt;
      &lt;/a&gt;
      &lt;b&gt;
         &lt;Y&gt;<xv>123</xv>&lt;/Y&gt;
         &lt;Y&gt;<xv>456</xv>&lt;/Y&gt;
      &lt;/b&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(childName=<js>"child"</js>)
      <jk>public</jk> int[] a;
   }
               </td>
               <td class='code'>
   {
      a: [123,456]
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
         &lt;string&gt;<xv>bar</xv>&lt;/string&gt;
      &lt;/a&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;child&gt;<xv>foo</xv>&lt;/child&gt;
         &lt;child&gt;<xv>bar</xv>&lt;/child&gt;
      &lt;/a&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
         </table>
      </div>
         

      <!-- ======================================================================================================== -->
      <a id="XmlFormat"></a>
      <h4 class='topic' onclick='toggle(this)'>2.2.3 - @Xml.format()</h4>
      <div class='topic'>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/Xml.html#format--"><code>@Xml.format()</code></a> annotation can be used to tweak the XML format of a POJO.
            <br>The value is set to an enum value of type <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html" title="enum in org.apache.juneau.xml.annotation"><code>XmlFormat</code></a>.
            <br>This annotation can be applied to both classes and bean properties.
         </p>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ATTR"><code>XmlFormat.ATTR</code></a> format can be applied to bean properties to serialize
            them as XML attributes instead of elements.
            <br>Note that this only supports properties of simple types (e.g. strings, numbers, booleans).
         </p>
         <h6 class='figure'>Example</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTR</jsf>)
      <jk>public</jk> String a;
   }
               </td>
               <td class='code'>
   {
      a: <js>'foo'</js>
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;<xv>foo</xv>&lt;/a&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object <xa>a</xa>=<xs>'foo'</xs>/&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ATTRS"><code>XmlFormat.ATTRS</code></a> format can be applied to bean classes to force all bean properties
            to be serialized as XML attributes instead of child elements.
         </p>
         <h6 class='figure'>Example</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTRS</jsf>)
   <jk>class</jk> MyBean {
      <jk>public</jk> String a;
      <jk>public int</jk> b;
   }
               </td>
               <td class='code'>
   {
      a: <js>'foo'</js>,
      b: 123
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;<xv>foo</xv>&lt;/a&gt;
      &lt;b&gt;<xv>123</xv>&lt;/b&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object <xa>a</xa>=<xs>'foo'</xs> <xa>b</xa>=<xs>'123'</xs>/&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ELEMENT"><code>XmlFormat.ELEMENT</code></a> format can be applied to bean properties to override
            the <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ATTRS"><code>XmlFormat.ATTRS</code></a> format applied on the bean class.
         </p>
         <h6 class='figure'>Example</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTRS</jsf>)
   <jk>class</jk> MyBean {
      <jk>public</jk> String a;
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ELEMENT</jsf>)
      <jk>public int</jk> b;
   }
               </td>
               <td class='code'>
   {
      a: <js>'foo'</js>,
      b: 123
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;<xv>foo</xv>&lt;/a&gt;
      &lt;b&gt;<xv>123</xv>&lt;/b&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object <xa>a</xa>=<xs>'foo'</xs></xs>&gt;
      &lt;b&gt;<xv>123</xv>&lt;/b&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ATTRS"><code>XmlFormat.ATTRS</code></a> format can be applied to a single bean property
            of type <code>Map&lt;String,Object&gt;</code> to denote arbitrary XML attribute values on the element.
            <br>These can be mixed with other <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ATTR"><code>XmlFormat.ATTR</code></a> annotated properties, but
            there must not be an overlap in bean property names and map keys. 
         </p>
         <h6 class='figure'>Example</h6>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTRS</jsf>)
      <jk>public</jk> Map&lt;String,Object&gt; a;
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTR</jsf>)
      <jk>public int</jk> b;
   }
               </td>
               <td class='code'>
   {
      a: {
         k1: <js>'foo'</js>, 
         k2: 123, 
      },
      b: 456
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;k1&gt;<xv>foo</xv>&lt;/k1&gt;
         &lt;k2 <xa>_type</xa>=<xs>'number'</xs>&gt;<xv>123</xv>&lt;/k2&gt;
      &lt;/a&gt;
      &lt;b&gt;<xv>456</xv>&lt;/b&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object <xa>k1</xa>=<xs>'foo'</xs> <xa>k2</xa>=<xs>'123'</xs> <xa>b</xa>=<xs>'456'</xs>/&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#COLLAPSED"><code>XmlFormat.COLLAPSED</code></a> format can be applied to bean properties
            of type array/Collection.
            <br>This causes the child objects to be serialized directly inside the bean element.
            <br>This format must be used in conjunction with <a href="../../../../org/apache/juneau/xml/annotation/Xml.html#childName--"><code>Xml.childName()</code></a>
            to differentiate which collection the values came from if you plan on parsing the output back into beans.
            <br>Note that child names must not conflict with other property names.
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotation</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(childName=<js>"A"</js>,format=XmlFormat.<jsf>COLLAPSED</jsf>)
      <jk>public</jk> String[] a;
      <ja>@Xml</ja>(childName=<js>"B"</js>,format=XmlFormat.<jsf>COLLAPSED</jsf>)
      <jk>public int</jk>[] b;
   }
               </td>
               <td class='code'>
   {
      a: [<js>'foo'</js>,<js>'bar'</js>],
      b: [123,456]
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
         &lt;string&gt;<xv>bar</xv>&lt;/string&gt;
      &lt;/a&gt;
      &lt;b&gt;
         &lt;number&gt;<xv>123</xv>&lt;/number&gt;
         &lt;number&gt;<xv>456</xv>&lt;/number&gt;
      &lt;/b&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;A&gt;<xv>foo</xv>&lt;/A&gt;
      &lt;A&gt;<xv>bar</xv>&lt;/A&gt;
      &lt;B&gt;<xv>123</xv>&lt;/B&gt;
      &lt;B&gt;<xv>456</xv>&lt;/B&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ELEMENTS"><code>XmlFormat.ELEMENTS</code></a> format can be applied to a single bean property
            of either a simple type or array/Collection.
            <br>It allows free-form child elements to be formed.
            <br>All other properties on the bean MUST be serialized as attributes.
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>With annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTR</jsf>)
      <jk>public</jk> String a;
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ELEMENTS</jsf>)
      <jk>public</jk> String b;
   }
               </td>
               <td class='code'>
   {
      a: <js>'foo'</js>,
      b: <js>'bar'</js>
   }
               </td>
               <td class='code'><xt>
   &lt;object <xa>a</xa>=<xs>'foo'</xs>&gt;
      &lt;string&gt;<xv>bar</xv>&lt;/string&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTR</jsf>)
      <jk>public</jk> String a;
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ELEMENTS</jsf>)
      <jk>public</jk> Object[] b;
   }
               </td>
               <td class='code'>
   {
      a: <js>'foo'</js>,
      b: [
         <js>'bar'</js>, 
         <js>'baz'</js>, 
         123, 
         <jk>true</jk>,
         <jk>null</jk>
      ]
   }
               </td>
               <td class='code'><xt>
   &lt;object <xa>a</xa>=<xs>'foo'</xs>&gt;
      &lt;string&gt;<xv>bar</xv>&lt;/string&gt;
      &lt;string&gt;<xv>baz</xv>&lt;/string&gt;
      &lt;number&gt;<xv>123</xv>&lt;/number&gt;
      &lt;boolean&gt;<xv>true</xv>&lt;/boolean&gt;
      &lt;null/&gt;
   &lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#MIXED"><code>XmlFormat.MIXED</code></a> format is similar to <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#ELEMENTS"><code>XmlFormat.ELEMENTS</code></a>
            except elements names on primitive types (string/number/boolean/null) are stripped from the output.
            This format particularly useful when combined with bean dictionaries to produce mixed content.  
            <br>The bean dictionary isn't used during serialization, but it is needed during parsing to resolve bean types.
         </p>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#MIXED_PWS"><code>XmlFormat.MIXED_PWS</code></a> format identical to <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#MIXED"><code>XmlFormat.MIXED</code></a>
            except whitespace characters are preserved in the output.  
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotations</th>
               <th>With annotations</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED</jsf>)
      <ja>@BeanProperty</ja>(beanDictionary={MyBeanX.<jk>class</jk>, MyBeanY.<jk>class</jk>})   
      <jk>public</jk> Object[] a;
   }
   
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBeanX {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTR</jsf>)
      <jk>public</jk> String b;
   }
   
   <ja>@Bean</ja>(typeName=<js>"Y"</js>)  
   <jk>class</jk> MyBeanY {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>ATTR</jsf>)
      <jk>public</jk> String c;
   }
               </td>
               <td class='code'>
   {
      a: [
         <js>'foo'</js>,
         { _type:<js>'X'</js>, b:<js>'bar'</js> }
         <js>'baz'</js>,
         { _type:<js>'Y'</js>, b:<js>'qux'</js> },
         <js>'quux'</js>
      ]
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;
         &lt;string&gt;<xv>foo</xv>&lt;/string&gt;
         &lt;object&gt;
            &lt;b&gt;<xv>bar</xv>&lt;/b&gt;
         &lt;/object&gt;
         &lt;string&gt;<xv>baz</xv>&lt;/string&gt;
         &lt;object&gt;
            &lt;b&gt;<xv>qux</xv>&lt;/b&gt;
         &lt;/object&gt;
         &lt;string&gt;<xv>quux</xv>&lt;/string&gt;
      &lt;/a&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object&gt;<xv>foo</xv>&lt;X <xa>b</xa>=<xs>'bar'</xs>/&gt;<xv>baz</xv>&lt;Y <xa>c</xa>=<xs>'qux'</xs>/&gt;<xv>quux</xv>&lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            Whitespace (tabs and newlines) are not added to MIXED child nodes in readable-output mode. 
            This helps ensures strings in the serialized output can be losslessly parsed back into their original forms when they contain whitespace characters.
            If the <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/stream/XMLInputFactory.html?is-external=true#IS_REPLACING_ENTITY_REFERENCES" title="class or interface in javax.xml.stream"><code>XMLInputFactory.IS_REPLACING_ENTITY_REFERENCES</code></a> setting was not useless in Java, we could support lossless 
            readable XML for MIXED content.  But as of Java 8, it still does not work. 
         </p>
         <p>
            XML suffers from other deficiencies as well that affect MIXED content.  For example, <xt>&lt;X&gt;&lt;/X&gt;</xt> and <xt>&lt;X/&gt;</xt> are 
            equivalent in XML and indistinguishable by the Java XML parsers.  This makes it impossible to differentiate between an empty element and an
            element containing an empty string.  This causes empty strings to get lost in translation. To alleviate this, we use the constructs <js>"_xE000_"</js> to 
            represent an empty string, and <js>"_x0020_"</js> to represent leading and trailing spaces.
         </p>
         <p>
            The examples below show how whitespace is handled under various circumstances:
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>XML</th>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT</jsf>)
      <jk>public</jk> String a = <jk>null</jk>;
   }
               </td>
               <td class='code'><xt>
   &lt;X/&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT</jsf>)
      <jk>public</jk> String a = <js>""</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_xE000_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT</jsf>)
      <jk>public</jk> String a = <js>" "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_x0020_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT</jsf>)
      <jk>public</jk> String a = <js>"  "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_x0020__x0020_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT</jsf>)
      <jk>public</jk> String a = <js>"  foobar  "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_x0020_ foobar _x0020_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT_PWS</jsf>)
      <jk>public</jk> String a = <jk>null</jk>;
   }
               </td>
               <td class='code'><xt>
   &lt;X/&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT_PWS</jsf>)
      <jk>public</jk> String a = <js>""</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_xE000_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT_PWS</jsf>)
      <jk>public</jk> String a = <js>" "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv> </xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT_PWS</jsf>)
      <jk>public</jk> String a = <js>"  "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>  </xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT_PWS</jsf>)
      <jk>public</jk> String a = <js>"  foobar  "</js>;
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>  foobar  </xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED</jsf>)
      <jk>public</jk> String[] a = <jk>null</jk>;
   }
               </td>
               <td class='code'><xt>
   &lt;X/&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{<js>""</js>};
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_xE000_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{<js>" "</js>};
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_x0020_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{<js>"  "</js>};
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_x0020__x0020_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{
         <js>"  foobar  "</js>
      };
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_x0020_ foobar _x0020_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED_PWS</jsf>)
      <jk>public</jk> String[] a = <jk>null</jk>;
   }
               </td>
               <td class='code'><xt>
   &lt;X/&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED_PWS</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{<js>""</js>};
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>_xE000_</xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED_PWS</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{<js>" "</js>};
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv> </xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED_PWS</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{<js>"  "</js>};
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>  </xv>&lt;/X&gt;
               </xt></td>
            </tr>
            <tr>
               <td class='code'>
   <ja>@Bean</ja>(typeName=<js>"X"</js>)  
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>MIXED_PWS</jsf>)
      <jk>public</jk> String a[] = <jk>new</jk> String[]{
         <js>"  foobar  "</js>
      };
   }
               </td>
               <td class='code'><xt>
   &lt;X&gt;<xv>  foobar  </xv>&lt;/X&gt;
               </xt></td>
            </tr>
         </table>
         
         <p>
            It should be noted that when using <jsf>MIXED</jsf>, you are not guaranteed to parse back the exact same content 
            since side-by-side strings in the content will end up concatenated when parsed.
         </p>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#TEXT"><code>XmlFormat.TEXT</code></a> format is similar to <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#MIXED"><code>XmlFormat.MIXED</code></a>
            except it's meant for solitary objects that get serialized as simple child text nodes.
            <br>Any object that can be serialize to a <code>String</code> can be used.
            <br>The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#TEXT_PWS"><code>XmlFormat.TEXT_PWS</code></a> is the same except whitespace is preserved in the output.
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>Without annotations</th>
               <th>With annotations</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>TEXT</jsf>)
      <jk>public</jk> String a;
   }
               </td>
               <td class='code'>
   {
      a: <js>'foo'</js>
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;
      &lt;a&gt;<xv>foo</xv>&lt;/a&gt;
   &lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object&gt;<xv>foo</xv>&lt;/object&gt;
               </xt></td>
            </tr>
         </table>
         <p>
            The <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#XMLTEXT"><code>XmlFormat.XMLTEXT</code></a> format is similar to <a href="../../../../org/apache/juneau/xml/annotation/XmlFormat.html#TEXT"><code>XmlFormat.TEXT</code></a>
            except it's meant for strings containing XML that should be serialized as-is to the document.
            <br>Any object that can be serialize to a <code>String</code> can be used.
            <br>During parsing, the element content gets parsed with the rest of the document and then re-serialized to XML before being set as the
            property value.  This process may not be perfect (e.g. double quotes may be replaced by single quotes, etc...).
         </p>
         <table class='styled' style='width:auto'>
            <tr>
               <th>Data type</th>
               <th>JSON example</th>
               <th>With TEXT annotation</th>
               <th>With XMLTEXT annotation</th>
            </tr>
            <tr>
               <td class='code'>
   <jk>class</jk> MyBean {
      <ja>@Xml</ja>(format=XmlFormat.<jsf>XMLTEXT</jsf>)
      <jk>public</jk> String a;
   }
               </td>
               <td class='code'>
   {
      a: <js>'Some &lt;b&gt;XML&lt;/b&gt; text'</js>
   }
               </td>
               <td class='code'><xt>
   &lt;object&gt;<xv>Some &amp;lt;b&amp;gt;XML&amp;lt;/b&amp;gt; text</xv>&lt;/object&gt;
               </xt></td>
               <td class='code'><xt>
   &lt;object&gt;<xv>Some <xt>&lt;b&gt;</xt>XML<xt>&lt;/b&gt;</xt> text</xv>&lt;/object&gt;
               </xt></td>
            </tr>
         </table>
      </div>
   </div>


   <!-- ======================================================================================================== -->
   <a id="Namespaces"></a>
   <h3 class='topic' onclick='toggle(this)'>2.3 - Namespaces</h3>
   <div class='topic'>
      <p>
         Let's go back to the example of our original <code>Person</code> bean class:
      </p>
      <p class='bcode'>
      <jk>public class</jk> Person {
         <jc>// Bean properties</jc>
         <jk>public int</jk> <jf>id</jf>;
         <jk>public</jk> String <jf>name</jf>;
   
         <jc>// Bean constructor (needed by parser)</jc>
         <jk>public</jk> Person() {}
   
         <jc>// Normal constructor</jc>
         <jk>public</jk> Person(<jk>int</jk> id, String name) {
            <jk>this</jk>.<jf>id</jf> = id;
            <jk>this</jk>.<jf>name</jf> = name;
         }
      }
      </p>
      <p>
         However, this time we'll leave namespaces enabled on the serializer:
      </p>
      <p class='bcode'>
   <jc>// Create a new serializer with readable output, this time with namespaces enabled.</jc>
   <jc>// Note that this is identical to XmlSerializer.DEFAULT_NS_SQ_READABLE.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder().ns().ws().sq().build();

   <jc>// Create our bean.</jc>
   Person p = <jk>new</jk> Person(1, <js>"John Smith"</js>);

   <jc>// Serialize the bean to XML.</jc>
   String xml = s.serialize(p);
      </p>
      <p>
         Now when we run this code, we'll see namespaces added to our output:
      </p>
      <p class='bcode'>
   <xt>&lt;object</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs><xt>&gt;</xt>
      <xt>&lt;id&gt;</xt>1<xt>&lt;/id&gt;</xt>
      <xt>&lt;name&gt;</xt>John Smith<xt>&lt;/name&gt;</xt>
   <xt>&lt;/object&gt;</xt>
      </p>
      <p>
         This isn't too exciting yet since we haven't specified any namespaces yet.<br>  
         Therefore, everything is defined under the default <code>Juneau</code> namespace.<br>
      </p>
      <p>
         Namespaces can be defined at the following levels:
      </p>
      <ul class='spaced-list'>
         <li>At the package level by using the <a href="../../../../org/apache/juneau/xml/annotation/XmlSchema.html" title="annotation in org.apache.juneau.xml.annotation"><code>@XmlSchema</code></a> annotation.
         <li>At the class level by using the <a href="../../../../org/apache/juneau/xml/annotation/Xml.html" title="annotation in org.apache.juneau.xml.annotation"><code>@Xml</code></a> annotation.
         <li>At the bean property level by using the <a href="../../../../org/apache/juneau/xml/annotation/Xml.html" title="annotation in org.apache.juneau.xml.annotation"><code>@Xml</code></a> annotation.
      </ul>
      <p>
         It's typically best to specify the namespaces used at the package level.<br> 
         We'll do that here for the package containing our test code.
      </p>
      <p class='bcode'>
   <jc>// XML namespaces used in this package</jc>
   <ja>@XmlSchema</ja>(
      prefix=<js>"ab"</js>,
      xmlNs={
         <ja>@XmlNs</ja>(prefix=<js>"ab"</js>, namespaceURI=<js>"http://www.apache.org/addressBook/"</js>),
         <ja>@XmlNs</ja>(prefix=<js>"per"</js>, namespaceURI=<js>"http://www.apache.org/person/"</js>),
         <ja>@XmlNs</ja>(prefix=<js>"addr"</js>, namespaceURI=<js>"http://www.apache.org/address/"</js>),
         <ja>@XmlNs</ja>(prefix=<js>"mail"</js>, namespaceURI=<js>"http://www.apache.org/mail/"</js>)
      }
   )
   <jk>package</jk> org.apache.juneau.examples.addressbook;
   <jk>import</jk> org.apache.juneau.xml.annotation.*;
      </p>
      <p>
         We're defining four namespaces in this package and designating <js>"http://www.apache.org/addressBook/"</js> as the default
            namespace for all classes and properties within this package.
      </p>
      <p>
         Take special note that the <ja>@XmlSchema</ja> is modelled after the equivalent JAXB annotation, but is
            defined in the <a class='doclink' href='annotation/package-summary.html#TOC'>org.apache.juneau.xml.annotation</a> package.<br>
         Other XML annotations are also modelled after JAXB. 
         However, since many of the features of JAXB are already implemented for all serializers and parsers
            at a higher level through various general annotations such as <a href="../../../../org/apache/juneau/annotation/Bean.html" title="annotation in org.apache.juneau.annotation"><code>Bean</code></a> and <a href="../../../../org/apache/juneau/annotation/BeanProperty.html" title="annotation in org.apache.juneau.annotation"><code>BeanProperty</code></a>
            it was decided to maintain separate Juneau XML annotations instead of reusing JAXB annotations.<br>
         This may change in some future implementation, but for now it was decided that having separate Juneau XML annotations was less confusing.
      </p>
      <p>
         On our bean class, we'll specify to use the <js>"http://www.apache.org/person/"</js> namespace:
      </p>
      <p class='bcode'>
   <ja>@Xml</ja>(prefix=<js>"per"</js>)
   <ja>@Bean</ja>(typeName=<js>"person"</js>)
   <jk>public class</jk> Person {
      ...
      </p>
      <p>
         Now when we serialize the bean, we get the following:
      </p>
      <p class='bcode'>
   <xt>&lt;per:person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs><xt>&gt;</xt>
      <xt>&lt;per:id&gt;</xt>1<xt>&lt;/per:id&gt;</xt>
      <xt>&lt;per:name&gt;</xt>John Smith<xt>&lt;/per:name&gt;</xt>
   <xt>&lt;/per:person&gt;</xt>
      </p>
      <p>
         We can simplify the output by setting the default namespace on the serializer so that
            all the elements do not need to be prefixed:
      <p class='bcode'>
   <jc>// Create a new serializer with readable output, this time with namespaces enabled.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder()
      .ws()
      .sq()
      .ns()
      .defaultNamespaceUri(<js>"http://www.apache.org/person/"</js>)
      .build();
      </p>
      <p>
         This produces the following equivalent where the elements don't need prefixes since they're already in the default document namespace:
      </p>
      <p class='bcode'>
   <xt>&lt;person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/person/'</xs>
         <xa>xmlns:juneau</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs><xt>&gt;</xt>
      <xt>&lt;id&gt;</xt>1<xt>&lt;/id&gt;</xt>
      <xt>&lt;name&gt;</xt>John Smith<xt>&lt;/name&gt;</xt>
   <xt>&lt;/person&gt;</xt>      
      </p>


      <!-- ======================================================================================================== -->
      <a id="AutoDetectNamespaces"></a>
      <h4 class='topic' onclick='toggle(this)'>2.3.1 - Auto-detection of namespaces</h4>
      <div class='topic'>
         <p>
            One important property on the XML serializer class is <a href="../../../../org/apache/juneau/xml/XmlSerializerContext.html#XML_autoDetectNamespaces"><code>XML_autoDetectNamespaces</code></a>.<br>
            This property tells the serializer to make a first-pass over the data structure to look for namespaces defined on classes and bean properties.<br>
            In high-performance environments, you may want to consider disabling auto-detection and providing your own explicit list of namespaces to the serializer
               to avoid this scanning step.
         </p>
         <p>
            The following code will produce the same output as before, but will perform slightly better since it avoids this prescan step.
         </p>
         <p class='bcode'>
   <jc>// Create a new serializer with readable output, this time with namespaces enabled.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder()
      .ws()
      .sq()
      .autoDetectNamespaces(<jk>false</jk>)
      .namespaces(<js>"{per:'http://www.apache.org/person/'}"</js>)
      .build();
         </p>
      </div>
      
   </div>
   
   <!-- ======================================================================================================== -->
   <a id="BeanAnnotations"></a>
   <h3 class='topic' onclick='toggle(this)'>2.4 - @Bean and @BeanProperty annotations</h3>
   <div class='topic'>
      <p>
         The <a href="../../../../org/apache/juneau/annotation/Bean.html" title="annotation in org.apache.juneau.annotation"><code>@Bean</code></a> and <a href="../../../../org/apache/juneau/annotation/BeanProperty.html" title="annotation in org.apache.juneau.annotation"><code>@BeanProperty</code></a> annotations
            are used to customize the behavior of beans across the entire framework.<br>
         In addition to using them to identify the resource URI for the bean shown above, they have various other uses:
      </p>
      <ul class='spaced-list'>
         <li>Hiding bean properties.
         <li>Specifying the ordering of bean properties.
         <li>Overriding the names of bean properties.
         <li>Associating transforms at both the class and property level (to convert non-serializable POJOs to serializable forms).
      </ul>
      <p>
         For example, we now add a <code>birthDate</code> property, and associate a transform with it to transform
            it to an ISO8601 date-time string in GMT time.<br>
         By default, <code>Calendars</code> are treated as beans by the framework, which is usually not how you want them serialized.<br>
         Using transforms, we can convert them to standardized string forms.
      </p>
      <p class='bcode'> 
   <ja>@Xml</ja>(prefix=<js>"per"</js>)
   <ja>@Bean</ja>(typeName=<js>"person"</js>)
   <jk>public class</jk> Person {
      
      <jc>// Bean properties</jc>
      <ja>@BeanProperty</ja>(swap=CalendarSwap.ISO8601DTZ.<jk>class</jk>) <jk>public</jk> Calendar birthDate;
      ...
      
      <jc>// Normal constructor</jc>
      <jk>public</jk> Person(<jk>int</jk> id, String name, String uri, String addressBookUri, String birthDate) <jk>throws</jk> Exception {
         ...
         <jk>this</jk>.<jf>birthDate</jf> = <jk>new</jk> GregorianCalendar();
         <jk>this</jk>.<jf>birthDate</jf>.setTime(DateFormat.<jsm>getDateInstance</jsm>(DateFormat.<jsf>MEDIUM</jsf>).parse(birthDate));
      }
   }
      </p>
      <p>
         Next, we alter our code to pass in the birthdate:
      </p>
      <p class='bcode'>
   <jc>// Create our bean.</jc>
   Person p = <jk>new</jk> Person(1, <js>"John Smith"</js>, <js>"http://sample/addressBook/person/1"</js>, <js>"http://sample/addressBook"</js>, <js>"Aug 12, 1946"</js>);
      </p>
      <p>
         Now when we rerun the sample code, we'll get the following:
      </p>
      <p class='bcode'>
   <xt>&lt;per:person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>uri</xa>=<xs>'http://sample/addressBook/person/1'</xs><xt>&gt;</xt>
      <xt>&lt;per:id&gt;</xt>1<xt>&lt;/per:id&gt;</xt>
      <xt>&lt;per:name&gt;</xt>John Smith<xt>&lt;/per:name&gt;</xt>
      <xt>&lt;per:addressBookUri&gt;</xt>http://sample/addressBook<xt>&lt;/per:addressBookUri&gt;</xt>
      <xt>&lt;per:birthDate&gt;</xt>1946-08-12T00:00:00Z<xt>&lt;/per:birthDate&gt;</xt>
   <xt>&lt;/per:person&gt;</xt>
      </p>
      <p>
         Another useful feature is the <a href="../../../../org/apache/juneau/annotation/Bean.html#propertyNamer--"><code>Bean.propertyNamer()</code></a> annotation that allows you to plug in your own
            logic for determining bean property names.<br>
         The <a href="../../../../org/apache/juneau/PropertyNamerDLC.html" title="class in org.apache.juneau"><code>PropertyNamerDLC</code></a> is an example of an alternate property namer.
         It converts bean property names to lowercase-dashed format.
      </p>
      <h6 class='figure'>Example</h6>
      <p class='bcode'> 
   <ja>@Xml</ja>(prefix=<js>"per"</js>)
   <ja>@Bean</ja>(typeName=<js>"person"</js>,propertyNamer=PropertyNamerDLC.<jk>class</jk>)
   <jk>public class</jk> Person {
      ...
      </p>
      <h6 class='figure'>Results</h6>
      <p class='bcode'>
   <xt>&lt;per:person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>uri</xa>=<xs>'http://sample/addressBook/person/1'</xs><xt>&gt;</xt>
      <xt>&lt;per:id&gt;</xt>1<xt>&lt;/per:id&gt;</xt>
      <xt>&lt;per:name&gt;</xt>John Smith<xt>&lt;/per:name&gt;</xt>
      <xt>&lt;per:address-book-uri&gt;</xt>http://sample/addressBook<xt>&lt;/per:address-book-uri&gt;</xt>
      <xt>&lt;per:birth-date&gt;</xt>1946-08-12T04:00:00Z<xt>&lt;/per:birth-date&gt;</xt>
   <xt>&lt;/per:person&gt;</xt>
      </p>
   </div>
   
      
   <!-- ======================================================================================================== -->
   <a id="Collections"></a>
   <h3 class='topic' onclick='toggle(this)'>2.5 - Collections</h3>
   <div class='topic'>
      <p>
         In our example, let's add a list-of-beans property to our sample class:
      </p>
      <p class='bcode'>
   <jk>public class</jk> Person {
      
      <jc>// Bean properties</jc>
      <jk>public</jk> LinkedList&lt;Address&gt; <jf>addresses</jf> = <jk>new</jk> LinkedList&lt;Address&gt;();
      ...
   }
      </p>
      <p>
         The <code>Address</code> class has the following properties defined:
      </p>
      <p class='bcode'>
   <ja>@Xml</ja>(prefix=<js>"addr"</js>)
   <ja>@Bean</ja>(typeName=<js>"address"</js>)
   <jk>public class</jk> Address {

      <jc>// Bean properties</jc>
      <ja>@Xml</ja>(format=<jsf>ATTR</jsf>) <jk>public</jk> URI <jf>uri</jf>;
      <jk>public</jk> URI <jf>personUri</jf>;
      <jk>public int</jk> <jf>id</jf>;
      <ja>@Xml</ja>(prefix=<js>"mail"</js>) <jk>public</jk> String <jf>street</jf>, <jf>city</jf>, <jf>state</jf>;
      <ja>@Xml</ja>(prefix=<js>"mail"</js>) <jk>public int</jk> <jf>zip</jf>;
      <jk>public boolean</jk> <jf>isCurrent</jf>;
   }
      </p>
      <p>
         Next, add some quick-and-dirty code to add an address to our person bean:
      </p>
      <p class='bcode'>
   <jc>// Create a new serializer with readable output.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder().ws().sq().build();

   <jc>// Create our bean.</jc>
   Person p = <jk>new</jk> Person(1, <js>"John Smith"</js>, <js>"http://sample/addressBook/person/1"</js>, <js>"http://sample/addressBook"</js>, <js>"Aug 12, 1946"</js>);
   Address a = <jk>new</jk> Address();
   a.<jf>uri</jf> = <jk>new</jk> URI(<js>"http://sample/addressBook/address/1"</js>);
   a.<jf>personUri</jf> = <jk>new</jk> URI(<js>"http://sample/addressBook/person/1"</js>);
   a.<jf>id</jf> = 1;
   a.<jf>street</jf> = <js>"100 Main Street"</js>;
   a.<jf>city</jf> = <js>"Anywhereville"</js>;
   a.<jf>state</jf> = <js>"NY"</js>;
   a.<jf>zip</jf> = 12345;
   a.<jf>isCurrent</jf> = <jk>true</jk>;
   p.<jf>addresses</jf>.add(a);  
      </p>
      <p>
         Now when we run the sample code, we get the following:
      </p>
      <p class='bcode'>
   <xt>&lt;per:person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>xmlns:addr</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>xmlns:mail</xa>=<xs>'http://www.apache.org/mail/'</xs> 
         <xa>uri</xa>=<xs>'http://sample/addressBook/person/1'</xs><xt>&gt;</xt>
      <xt>&lt;per:id&gt;</xt>1<xt>&lt;/per:id&gt;</xt>
      <xt>&lt;per:name&gt;</xt>John Smith<xt>&lt;/per:name&gt;</xt>
      <xt>&lt;per:addressBookUri&gt;</xt>http://sample/addressBook<xt>&lt;/per:addressBookUri&gt;</xt>
      <xt>&lt;per:birthDate&gt;</xt>1946-08-12T04:00:00Z<xt>&lt;/per:birthDate&gt;</xt>
      <xt>&lt;per:addresses&gt;</xt>
         <xt>&lt;addr:address</xt> <xa>uri</xa>=<xs>'http://sample/addressBook/address/1'</xs><xt>&gt;</xt>
            <xt>&lt;addr:personUri&gt;</xt>http://sample/addressBook/person/1<xt>&lt;/addr:personUri&gt;</xt>
            <xt>&lt;addr:id&gt;</xt>1<xt>&lt;/addr:id&gt;</xt>
            <xt>&lt;mail:street&gt;</xt>100 Main Street<xt>&lt;/mail:street&gt;</xt>
            <xt>&lt;mail:city&gt;</xt>Anywhereville<xt>&lt;/mail:city&gt;</xt>
            <xt>&lt;mail:state&gt;</xt>NY<xt>&lt;/mail:state&gt;</xt>
            <xt>&lt;mail:zip&gt;</xt>12345<xt>&lt;/mail:zip&gt;</xt>
            <xt>&lt;addr:isCurrent&gt;</xt>true<xt>&lt;/addr:isCurrent&gt;</xt>
         <xt>&lt;/addr:address&gt;</xt>
      <xt>&lt;/per:addresses&gt;</xt>
   <xt>&lt;/per:person&gt;</xt>
      </p>
   </div>
   

   <!-- ======================================================================================================== -->
   <a id="XmlSchemaSupport"></a>
   <h3 class='topic' onclick='toggle(this)'>2.6 - XML-Schema support</h3>
   <div class='topic'>
      <p>
         Juneau provides the <a href="../../../../org/apache/juneau/xml/XmlSchemaSerializer.html" title="class in org.apache.juneau.xml"><code>XmlSchemaSerializer</code></a> class for generating XML-Schema documents
            that describe the output generated by the <a href="../../../../org/apache/juneau/xml/XmlSerializer.html" title="class in org.apache.juneau.xml"><code>XmlSerializer</code></a> class.<br>
         This class shares the same properties as <code>XmlSerializer</code>.<br>
         Since the XML output differs based on settings on the XML serializer class, the XML-Schema serializer
            class must have the same property values as the XML serializer class it's descriqux.<br>
         To help facilitate creating an XML Schema serializer with the same properties as the corresponding 
            XML serializer, the <a href="../../../../org/apache/juneau/xml/XmlSerializer.html#getSchemaSerializer--"><code>XmlSerializer.getSchemaSerializer()</code></a> method 
            has been added.
      </p>
      <p>
         XML-Schema requires a separate file for each namespace.<br>  
         Unfortunately, does not mesh well with the Juneau serializer architecture which serializes to single writers.<br>
         To get around this limitation, the schema serializer will produce a single output, but with multiple
            schema documents separated by the null character (<js>'\u0000'</js>) to make it simple to split apart.
      </p>
      <p>
         Lets start with an example where everything is in the same namespace.<br>
         We'll use the classes from before, but remove the references to namespaces.<br>
         Since we have not defined a default namespace, everything is defined under the default Juneau namespace.
      </p>
      <p class='bcode'>
   <ja>@Bean</ja>(typeName=<js>"person"</js>)
   <jk>public class</jk> Person {
      <jc>// Bean properties</jc>
      <jk>public int</jk> <jf>id</jf>;
      <jk>public</jk> String <jf>name</jf>;
      <ja>@Xml</ja>(format=<jsf>ATTR</jsf>) <jk>public</jk> URI <jf>uri</jf>;
      <jk>public</jk> URI <jf>addressBookUri</jf>;
      <ja>@BeanProperty</ja>(swap=CalendarSwap.ISO8601DTZ.<jk>class</jk>) <jk>public</jk> Calendar <jf>birthDate</jf>;
      <jk>public</jk> LinkedList&lt;Address&gt; <jf>addresses</jf> = <jk>new</jk> LinkedList&lt;Address&gt;();

      <jc>// Bean constructor (needed by parser)</jc>
      <jk>public</jk> Person() {}

      <jc>// Normal constructor</jc>
      <jk>public</jk> Person(<jk>int</jk> id, String name, String uri, String addressBookUri, String birthDate) <jk>throws</jk> Exception {
         <jk>this</jk>.<jf>id</jf> = id;
         <jk>this</jk>.<jf>name</jf> = name;
         <jk>this</jk>.<jf>uri</jf> = <jk>new</jk> URI(uri);
         <jk>this</jk>.<jf>addressBookUri</jf> = <jk>new</jk> URI(addressBookUri);
         <jk>this</jk>.<jf>birthDate</jf> = <jk>new</jk> GregorianCalendar();
         <jk>this</jk>.<jf>birthDate</jf>.setTime(DateFormat.getDateInstance(DateFormat.<jsf>MEDIUM</jsf>).parse(birthDate));
      }
   }

   <ja>@Bean</ja>(typeName=<js>"address"</js>)
   <jk>public class</jk> Address {
      <jc>// Bean properties</jc>
      <ja>@Xml</ja>(format=<jsf>ATTR</jsf>) <jk>public</jk> URI <jf>uri</jf>;
      <jk>public</jk> URI <jf>personUri</jf>;
      <jk>public int</jk> <jf>id</jf>;
      <jk>public</jk> String <jf>street</jf>, <jf>city</jf>, <jf>state</jf>;
      <jk>public int</jk> <jf>zip</jf>;
      <jk>public boolean</jk> <jf>isCurrent</jf>;
   }
      </p>
      <p>
         The code for creating our POJO model and generating XML Schema is shown below:
      </p>
      <p class='bcode'>
   <jc>// Create a new serializer with readable output.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder()
      .ws()
      .ns()
      .sq()
      .addNamespaceUrisToRoot(<jk>true</jk>)
      .build();

   <jc>// Create the equivalent schema serializer.</jc>
   XmlSchemaSerializer ss = s.getSchemaSerializer();

   <jc>// Create our bean.</jc>
   Person p = <jk>new</jk> Person(1, <js>"John Smith"</js>, <js>"http://sample/addressBook/person/1"</js>, <js>"http://sample/addressBook"</js>, <js>"Aug 12, 1946"</js>);
   Address a = <jk>new</jk> Address();
   a.<jf>uri</jf> = <jk>new</jk> URI(<js>"http://sample/addressBook/address/1"</js>);
   a.<jf>personUri</jf> = <jk>new</jk> URI(<js>"http://sample/addressBook/person/1"</js>);
   a.<jf>id</jf> = 1;
   a.<jf>street</jf> = <js>"100 Main Street"</js>;
   a.<jf>city</jf> = <js>"Anywhereville"</js>;
   a.<jf>state</jf> = <js>"NY"</js>;
   a.<jf>zip</jf> = 12345;
   a.<jf>isCurrent</jf> = <jk>true</jk>;
   p.<jf>addresses</jf>.add(a);

   <jc>// Serialize the bean to XML.</jc>
   String xml = s.serialize(p);
   
   <jc>// Get the XML Schema corresponding to the XML generated above.</jc>
   String xmlSchema = ss.serialize(p);
      </p>
      <h6 class='figure'>XML results</h6>
      <p class='bcode'>
   <xt>&lt;person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>uri</xa>=<xs>'http://sample/addressBook/person/1'</xs><xt>&gt;</xt>
      <xt>&lt;id&gt;</xt>1<xt>&lt;/id&gt;</xt>
      <xt>&lt;name&gt;</xt>John Smith<xt>&lt;/name&gt;</xt>
      <xt>&lt;addressBookUri&gt;</xt>http://sample/addressBook<xt>&lt;/addressBookUri&gt;</xt>
      <xt>&lt;birthDate&gt;</xt>1946-08-12T00:00:00Z<xt>&lt;/birthDate&gt;</xt>
      <xt>&lt;addresses&gt;</xt>
         <xt>&lt;address</xt> <xa>uri</xa>=<xs>'http://sample/addressBook/address/1'</xs><xt>&gt;</xt>
            <xt>&lt;personUri&gt;</xt>http://sample/addressBook/person/1<xt>&lt;/personUri&gt;</xt>
            <xt>&lt;id&gt;</xt>1<xt>&lt;/id&gt;</xt>
            <xt>&lt;street&gt;</xt>100 Main Street<xt>&lt;/street&gt;</xt>
            <xt>&lt;city&gt;</xt>Anywhereville<xt>&lt;/city&gt;</xt>
            <xt>&lt;state&gt;</xt>NY<xt>&lt;/state&gt;</xt>
            <xt>&lt;zip&gt;</xt>12345<xt>&lt;/zip&gt;</xt>
            <xt>&lt;isCurrent&gt;</xt>true<xt>&lt;/isCurrent&gt;</xt>
         <xt>&lt;/address&gt;</xt>
      <xt>&lt;/addresses&gt;</xt>
   <xt>&lt;/person&gt;</xt>            
      </p>
      <h6 class='figure'>XML-Schema results</h6>
      <p class='bcode'>
   <xt>&lt;schema</xt> 
         <xa>xmlns</xa>=<xs>'http://www.w3.org/2001/XMLSchema'</xs> 
         <xa>targetNamespace</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>elementFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>xmlns:juneau</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs><xt>&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'person'</xs> <xa>_type</xa>=<xs>'juneau:org.apache.juneau.examples.addressbook.Person'</xs><xt>/&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'org.apache.juneau.examples.addressbook.Person'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'id'</xs> <xa>_type</xa>=<xs>'integer'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'name'</xs> <xa>_type</xa>=<xs>'string'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'addressBookUri'</xs> <xa>_type</xa>=<xs>'string'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'birthDate'</xs> <xa>_type</xa>=<xs>'juneau:java.util.Calendar'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'addresses'</xs> <xa>_type</xa>=<xs>'juneau:java.util.LinkedList_x003C_org.apache.juneau.examples.addressbook.Address_x003E_'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
         <xt>&lt;attribute</xt> <xa>name</xa>=<xs>'uri'</xs> <xa>_type</xa>=<xs>'string'</xs><xt>/&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'java.util.Calendar'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;any</xt> <xa>processContents</xa>=<xs>'skip'</xs> <xa>maxOccurs</xa>=<xs>'unbounded'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'java.util.LinkedList_x003C_org.apache.juneau.examples.addressbook.Address_x003E_'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;choice</xt> <xa>minOccurs</xa>=<xs>'0'</xs> <xa>maxOccurs</xa>=<xs>'unbounded'</xs><xt>&gt;</xt>
               <xt>&lt;element</xt> <xa>name</xa>=<xs>'address'</xs> <xa>_type</xa>=<xs>'juneau:org.apache.juneau.examples.addressbook.Address'</xs><xt>/&gt;</xt>
               <xt>&lt;element</xt> <xa>name</xa>=<xs>'null'</xs> <xa>_type</xa>=<xs>'string'</xs><xt>/&gt;</xt>
            <xt>&lt;/choice&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'org.apache.juneau.examples.addressbook.Address'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'personUri'</xs> <xa>_type</xa>=<xs>'string'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'id'</xs> <xa>_type</xa>=<xs>'integer'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'street'</xs> <xa>_type</xa>=<xs>'string'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'city'</xs> <xa>_type</xa>=<xs>'string'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'state'</xs> <xa>_type</xa>=<xs>'string'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'zip'</xs> <xa>_type</xa>=<xs>'integer'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
            <xt>&lt;element</xt> <xa>name</xa>=<xs>'isCurrent'</xs> <xa>_type</xa>=<xs>'boolean'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
         <xt>&lt;attribute</xt> <xa>name</xa>=<xs>'uri'</xs> <xa>_type</xa>=<xs>'string'</xs><xt>/&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
   <xt>&lt;/schema&gt;</xt>
      </p>
      <p>
         Now if we add in some namespaces, we'll see how multiple namespaces are handled.
      </p>
      <p class='bcode'>
   <ja>@Xml</ja></ja>(prefix=<js>"per"</js>)
   <ja>@Bean</ja></ja>(typeName=<js>"person"</js>)
   <jk>public class</jk> Person {
   ...
   }

   <ja>@Xml</ja>(prefix=<js>"addr"</js>)
   <ja>@Bean</ja>(typeName=<js>"address"</js>)
   <jk>public class</jk> Address {
      ...
      <ja>@Xml</ja>(prefix=<js>"mail"</js>) <jk>public</jk> String <jf>street</jf>, <jf>city</jf>, <jf>state</jf>;
      <ja>@Xml</ja>(prefix=<js>"mail"</js>) <jk>public int</jk> <jf>zip</jf>;
      ...
   }
      </p>
      <h6 class='figure'>XML results</h6>
      <p class='bcode'>
   <xt>&lt;per:person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>xmlns:addr</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>xmlns:mail</xa>=<xs>'http://www.apache.org/mail/'</xs> 
         <xa>uri</xa>=<xs>'http://sample/addressBook/person/1'</xs><xt>&gt;</xt>
      <xt>&lt;per:id&gt;</xt>1<xt>&lt;/per:id&gt;</xt>
      <xt>&lt;per:name&gt;</xt>John Smith<xt>&lt;/per:name&gt;</xt>
      <xt>&lt;per:addressBookUri&gt;</xt>http://sample/addressBook<xt>&lt;/per:addressBookUri&gt;</xt>
      <xt>&lt;per:birthDate&gt;</xt>1946-08-12T00:00:00Z<xt>&lt;/per:birthDate&gt;</xt>
      <xt>&lt;per:addresses&gt;</xt>
         <xt>&lt;addr:address</xt> <xa>uri</xa>=<xs>'http://sample/addressBook/address/1'</xs><xt>&gt;</xt>
            <xt>&lt;addr:personUri&gt;</xt>http://sample/addressBook/person/1<xt>&lt;/addr:personUri&gt;</xt>
            <xt>&lt;addr:id&gt;</xt>1<xt>&lt;/addr:id&gt;</xt>
            <xt>&lt;mail:street&gt;</xt>100 Main Street<xt>&lt;/mail:street&gt;</xt>
            <xt>&lt;mail:city&gt;</xt>Anywhereville<xt>&lt;/mail:city&gt;</xt>
            <xt>&lt;mail:state&gt;</xt>NY<xt>&lt;/mail:state&gt;</xt>
            <xt>&lt;mail:zip&gt;</xt>12345<xt>&lt;/mail:zip&gt;</xt>
            <xt>&lt;addr:isCurrent&gt;</xt>true<xt>&lt;/addr:isCurrent&gt;</xt>
         <xt>&lt;/addr:address&gt;</xt>
      <xt>&lt;/per:addresses&gt;</xt>
   <xt>&lt;/per:person&gt;</xt>
      </p>
      <p>
         The schema consists of 4 documents separated by a <js>'\u0000'</js> character.
      </p>
      <h6 class='figure'>XML-Schema results</h6>
      <p class='bcode'>
   <xt>&lt;schema</xt> 
         <xa>xmlns</xa>=<xs>'http://www.w3.org/2001/XMLSchema'</xs> 
         <xa>targetNamespace</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>elementFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>xmlns:juneau</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>xmlns:addr</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>xmlns:mail</xa>=<xs>'http://www.apache.org/mail/'</xs><xt>&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/person/'</xs> <xa>schemaLocation</xa>=<xs>'per.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/address/'</xs> <xa>schemaLocation</xa>=<xs>'addr.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/mail/'</xs> <xa>schemaLocation</xa>=<xs>'mail.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'int'</xs><xt>&gt;</xt>
         <xt>&lt;simpleContent&gt;</xt>
            <xt>&lt;extension</xt> <xa>base</xa>=<xs>'integer'</xs><xt>/&gt;</xt>
         <xt>&lt;/simpleContent&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'java.lang.String'</xs><xt>&gt;</xt>
         <xt>&lt;simpleContent&gt;</xt>
            <xt>&lt;extension</xt> <xa>base</xa>=<xs>'string'</xs><xt>/&gt;</xt>
         <xt>&lt;/simpleContent&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'java.net.URI'</xs><xt>&gt;</xt>
         <xt>&lt;simpleContent&gt;</xt>
            <xt>&lt;extension</xt> <xa>base</xa>=<xs>'string'</xs><xt>/&gt;</xt>
         <xt>&lt;/simpleContent&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'java.util.Calendar'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;any</xt> <xa>processContents</xa>=<xs>'skip'</xs> <xa>maxOccurs</xa>=<xs>'unbounded'</xs> <xa>minOccurs</xa>=<xs>'0'</xs><xt>/&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'java.util.LinkedList_x003C_org.apache.juneau.examples.addressbook.Address_x003E_'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;choice</xt> <xa>minOccurs</xa>=<xs>'0'</xs> <xa>maxOccurs</xa>=<xs>'unbounded'</xs><xt>&gt;</xt>
               <xt>&lt;element</xt> <xa>name</xa>=<xs>'address'</xs> <xa>_type</xa>=<xs>'addr:org.apache.juneau.examples.addressbook.Address'</xs><xt>/&gt;</xt>
               <xt>&lt;element</xt> <xa>name</xa>=<xs>'null'</xs> <xa>_type</xa>=<xs>'string'</xs><xt>/&gt;</xt>
            <xt>&lt;/choice&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'boolean'</xs><xt>&gt;</xt>
         <xt>&lt;simpleContent&gt;</xt>
            <xt>&lt;extension</xt> <xa>base</xa>=<xs>'boolean'</xs><xt>/&gt;</xt>
         <xt>&lt;/simpleContent&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
   <xt>&lt;/schema&gt;</xt>
   [\u0000]
   <xt>&lt;schema</xt> 
         <xa>xmlns</xa>=<xs>'http://www.w3.org/2001/XMLSchema'</xs> 
         <xa>targetNamespace</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>elementFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>attributeFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>xmlns:juneau</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>xmlns:addr</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>xmlns:mail</xa>=<xs>'http://www.apache.org/mail/'</xs><xt>&gt;</xt>
      <xt>&lt;impor</xt>t <xa>namespace</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> <xa>schemaLocation</xa>=<xs>'juneau.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/address/'</xs> <xa>schemaLocation</xa>=<xs>'addr.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/mail/'</xs> <xa>schemaLocation</xa>=<xs>'mail.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'person'</xs> <xa>_type</xa>=<xs>'per:org.apache.juneau.examples.addressbook.Person'</xs><xt>/&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'org.apache.juneau.examples.addressbook.Person'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;any</xt> <xa>minOccurs</xa>=<xs>'0'</xs> <xa>maxOccurs</xa>=<xs>'unbounded'</xs><xt>/&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
         <xt>&lt;attribute</xt> <xa>name</xa>=<xs>'uri'</xs> <xa>_type</xa>=<xs>'string'</xs><xt>/&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'id'</xs> <xa>_type</xa>=<xs>'juneau:int'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'name'</xs> <xa>_type</xa>=<xs>'juneau:java.lang.String'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'addressBookUri'</xs> <xa>_type</xa>=<xs>'juneau:java.net.URI'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'birthDate'</xs> <xa>_type</xa>=<xs>'juneau:java.util.Calendar'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'addresses'</xs> <xa>_type</xa>=<xs>'juneau:java.util.LinkedList_x003C_org.apache.juneau.examples.addressbook.Address_x003E_'</xs><xt>/&gt;</xt>
   <xt>&lt;/schema&gt;</xt>
   [\u0000]
   <xt>&lt;schema</xt> 
         <xa>xmlns</xa>=<xs>'http://www.w3.org/2001/XMLSchema'</xs> 
         <xa>targetNamespace</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>elementFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>attributeFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>xmlns:juneau</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>xmlns:addr</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>xmlns:mail</xa>=<xs>'http://www.apache.org/mail/'</xs><xt>&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> <xa>schemaLocation</xa>=<xs>'juneau.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/person/'</xs> <xa>schemaLocation</xa>=<xs>'per.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/mail/'</xs> <xa>schemaLocation</xa>=<xs>'mail.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;complexType</xt> <xa>name</xa>=<xs>'org.apache.juneau.examples.addressbook.Address'</xs><xt>&gt;</xt>
         <xt>&lt;sequence&gt;</xt>
            <xt>&lt;any</xt> <xa>minOccurs</xa>=<xs>'0'</xs> <xa>maxOccurs</xa>=<xs>'unbounded'</xs><xt>/&gt;</xt>
         <xt>&lt;/sequence&gt;</xt>
         <xt>&lt;attribute</xt> <xa>name</xa>=<xs>'uri'</xs> <xa>_type</xa>=<xs>'string'</xs><xt>/&gt;</xt>
      <xt>&lt;/complexType&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'personUri'</xs> <xa>_type</xa>=<xs>'juneau:java.net.URI'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'id'</xs> <xa>_type</xa>=<xs>'juneau:int'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'isCurrent'</xs> <xa>_type</xa>=<xs>'juneau:boolean'</xs><xt>/&gt;</xt>
   <xt>&lt;/schema&gt;</xt>
   [\u0000]
   <xt>&lt;schema</xt> 
         <xa>xmlns</xa>=<xs>'http://www.w3.org/2001/XMLSchema'</xs> 
         <xa>targetNamespace</xa>=<xs>'http://www.apache.org/mail/'</xs> 
         <xa>elementFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>attributeFormDefault</xa>=<xs>'qualified'</xs> 
         <xa>xmlns:juneau</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>xmlns:addr</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>xmlns:mail</xa>=<xs>'http://www.apache.org/mail/'</xs><xt>&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> <xa>schemaLocation</xa>=<xs>'juneau.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/person/'</xs> <xa>schemaLocation</xa>=<xs>'per.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;import</xt> <xa>namespace</xa>=<xs>'http://www.apache.org/address/'</xs> <xa>schemaLocation</xa>=<xs>'addr.xsd'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'street'</xs> <xa>_type</xa>=<xs>'juneau:java.lang.String'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'city'</xs> <xa>_type</xa>=<xs>'juneau:java.lang.String'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'state'</xs> <xa>_type</xa>=<xs>'juneau:java.lang.String'</xs><xt>/&gt;</xt>
      <xt>&lt;element</xt> <xa>name</xa>=<xs>'zip'</xs> <xa>_type</xa>=<xs>'juneau:int'</xs><xt>/&gt;</xt>
   <xt>&lt;/schema&gt;</xt>   
      </p>
      <p>
         For convenience, the <a href="../../../../org/apache/juneau/xml/XmlSchemaSerializer.html#getValidator-org.apache.juneau.serializer.SerializerSession-java.lang.Object-"><code>XmlSchemaSerializer.getValidator(SerializerSession,Object)</code></a> method is provided
            to create a <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/validation/Validator.html?is-external=true" title="class or interface in javax.xml.validation"><code>Validator</code></a> using the input from the serialize method.
      </p>
   </div>


   <!-- ======================================================================================================== -->
   <a id="Recursion"></a>
   <h3 class='topic' onclick='toggle(this)'>2.7 - Non-tree models and recursion detection</h3>
   <div class='topic'>
      <p>
         The XML serializer is designed to be used against POJO tree structures. <br> 
         It expects that there not be loops in the POJO model (e.g. children with references to parents, etc...).<br>
         If you try to serialize models with loops, you will usually cause a <code>StackOverflowError</code> to 
            be thrown (if <a href="../../../../org/apache/juneau/serializer/SerializerContext.html#SERIALIZER_maxDepth"><code>SerializerContext.SERIALIZER_maxDepth</code></a> is not reached first).
      </p>
      <p>
         If you still want to use the XML serializer on such models, Juneau provides the 
            <a href="../../../../org/apache/juneau/serializer/SerializerContext.html#SERIALIZER_detectRecursions"><code>SerializerContext.SERIALIZER_detectRecursions</code></a> setting.<br>
         It tells the serializer to look for instances of an object in the current branch of the tree and
            skip serialization when a duplicate is encountered.
      </p>
      <p>
         For example, let's make a POJO model out of the following classes:
      </p>
      <p class='bcode'>
   <ja>@Bean</ja>(typeName=<js>"a"</js>)
   <jk>public class</jk> A {
      <jk>public</jk> B b;
   }
   
   <jk>public class</jk> B {
      <jk>public</jk> C c;
   }
   
   <jk>public class</jk> C {
      <jk>public</jk> A a;
   }
      </p>
      <p>
         Now we create a model with a loop and serialize the results.
      </p>
      <p class='bcode'>
   <jc>// Create a new serializer with readable output.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder()
      .ws()
      .sq()
      .ns()
      .detectRecursions(<jk>true</jk>)
      .build();

   <jc>// Create a recursive loop.</jc>
   A a = <jk>new</jk> A();
   a.<jf>b</jf> = <jk>new</jk> B();
   a.<jf>b</jf>.<jf>c</jf> = <jk>new</jk> C();
   a.<jf>b</jf>.<jf>c</jf>.<jf>a</jf> = a;
   
   <jc>// Serialize to XML.</jc>
   String xml = s.serialize(a);
      </p>
      <p>
         What we end up with is the following, which does not serialize the contents of the <code>c</code> field:
      </p>
      <p class='bcode'>
   <xt>&lt;a&gt;</xt>
      <xt>&lt;b&gt;</xt>
         <xt>&lt;c/&gt;</xt>
      <xt>&lt;/b&gt;</xt>
   <xt>&lt;/a&gt;</xt>     
      </p>
      <p>
         Without recursion detection enabled, this would cause a stack-overflow error.
      </p>
      <p>
         Recursion detection introduces a performance penalty of around 20%.<br>
         For this reason the setting is disabled by default.
      </p>
   </div>


   <!-- ======================================================================================================== -->
   <a id="SerializerConfigurableProperties"></a>
   <h3 class='topic' onclick='toggle(this)'>2.8 - Configurable properties</h3>
   <div class='topic'>
      <p>
         See the following classes for all configurable properties that can be used on this serializer:
      </p>
      <ul>
         <li><a href="../../../../org/apache/juneau/BeanContext.html" title="class in org.apache.juneau"><code>BeanContext</code></a> - Bean context properties.
         <li><a href="../../../../org/apache/juneau/xml/XmlSerializerContext.html" title="class in org.apache.juneau.xml"><code>XmlSerializerContext</code></a> - Serializer context properties.
      </ul>
   </div>      


   <!-- ======================================================================================================== -->
   <a id="SerializerOtherNotes"></a>
   <h3 class='topic' onclick='toggle(this)'>2.9 - Other notes</h3>
   <div class='topic'>
      <ul class='spaced-list'>
         <li>Like all other Juneau serializers, the XML serializer is thread safe and maintains an internal cache of bean classes encountered.<br>
            For performance reasons, it's recommended that serializers be reused whenever possible instead of always creating new instances.
      </ul>
   </div>
</div>


<!-- ======================================================================================================== -->
<a id="XmlParser"></a>
<h2 class='topic' onclick='toggle(this)'>3 - XmlParser class</h2>
<div class='topic'>
   <p>
      The <a href="../../../../org/apache/juneau/xml/XmlParser.html" title="class in org.apache.juneau.xml"><code>XmlParser</code></a> class is the class used to parse Juneau-generated XML back into POJOs.
   </p>  
   <p>
      A static reusable instance of <code>XmlParser</code> is also provided for convenience:
   </p>
   <ul>
      <li><a href="../../../../org/apache/juneau/xml/XmlParser.html#DEFAULT"><code>XmlParser.DEFAULT</code></a>
   </ul>
   <p>
      Let's build upon the previous example and parse the generated XML back into the original bean.<br>
      We start with the XML that was generated.
   </p>
   <p class='bcode'>
   <jc>// Create a new serializer with readable output.</jc>
   XmlSerializer s = <jk>new</jk> XmlSerializerBuilder().ws().sq().ns().build();

   <jc>// Create our bean.</jc>
   Person p = <jk>new</jk> Person(1, <js>"John Smith"</js>, <js>"http://sample/addressBook/person/1"</js>, <js>"http://sample/addressBook"</js>, <js>"Aug 12, 1946"</js>);
   Address a = <jk>new</jk> Address();
   a.<jf>uri</jf> = <jk>new</jk> URI(<js>"http://sample/addressBook/address/1"</js>);
   a.<jf>personUri</jf> = <jk>new</jk> URI(<js>"http://sample/addressBook/person/1"</js>);
   a.<jf>id</jf> = 1;
   a.<jf>street</jf> = <js>"100 Main Street"</js>;
   a.<jf>city</jf> = <js>"Anywhereville"</js>;
   a.<jf>state</jf> = <js>"NY"</js>;
   a.<jf>zip</jf> = 12345;
   a.<jf>isCurrent</jf> = <jk>true</jk>;
   p.<jf>addresses</jf>.add(a);  

   <jc>// Serialize the bean to XML.</jc>
   String xml = s.serialize(p);
   </p>
   <p>
      This code produced the following:
   </p>
   <p class='bcode'>
   <xt>&lt;per:person</xt> 
         <xa>xmlns</xa>=<xs>'http://www.apache.org/2013/Juneau'</xs> 
         <xa>xmlns:per</xa>=<xs>'http://www.apache.org/person/'</xs> 
         <xa>xmlns:addr</xa>=<xs>'http://www.apache.org/address/'</xs> 
         <xa>xmlns:mail</xa>=<xs>'http://www.apache.org/mail/'</xs> 
         <xa>uri</xa>=<xs>'http://sample/addressBook/person/1'</xs><xt>&gt;</xt>
      <xt>&lt;per:id&gt;</xt>1<xt>&lt;/per:id&gt;</xt>
      <xt>&lt;per:name&gt;</xt>John Smith<xt>&lt;/per:name&gt;</xt>
      <xt>&lt;per:addressBookUri&gt;</xt>http://sample/addressBook<xt>&lt;/per:addressBookUri&gt;</xt>
      <xt>&lt;per:birthDate&gt;</xt>1946-08-12T04:00:00Z<xt>&lt;/per:birthDate&gt;</xt>
      <xt>&lt;per:addresses&gt;</xt>
         <xt>&lt;addr:address</xt> <xa>uri</xa>=<xs>'http://sample/addressBook/address/1'</xs><xt>&gt;</xt>
            <xt>&lt;addr:personUri&gt;</xt>http://sample/addressBook/person/1<xt>&lt;/addr:personUri&gt;</xt>
            <xt>&lt;addr:id&gt;</xt>1<xt>&lt;/addr:id&gt;</xt>
            <xt>&lt;mail:street&gt;</xt>100 Main Street<xt>&lt;/mail:street&gt;</xt>
            <xt>&lt;mail:city&gt;</xt>Anywhereville<xt>&lt;/mail:city&gt;</xt>
            <xt>&lt;mail:state&gt;</xt>NY<xt>&lt;/mail:state&gt;</xt>
            <xt>&lt;mail:zip&gt;</xt>12345<xt>&lt;/mail:zip&gt;</xt>
            <xt>&lt;addr:isCurrent&gt;</xt>true<xt>&lt;/addr:isCurrent&gt;</xt>
         <xt>&lt;/addr:address&gt;</xt>
      <xt>&lt;/per:addresses&gt;</xt>
   <xt>&lt;/per:person&gt;</xt>
   </p>
   <p>
      The code to convert this back into a bean is:
   </p>
   <p class='bcode'>
   <jc>// Parse it back into a bean using the reusable XML parser.</jc>
   Person p = XmlParser.<jsf>DEFAULT</jsf>.parse(xml, Person.<jk>class</jk>);

   <jc>// Render it as JSON.</jc>
   String json = JsonSerializer.<jsf>DEFAULT_LAX_READABLE</jsf>.serialize(p);
   </p>
   <p>
      We print it out to JSON to show that all the data has been preserved:
   </p>
   <p class='bcode'>
   {
      id: 1, 
      name: <js>'John Smith'</js>, 
      uri: <js>'http://sample/addressBook/person/1'</js>, 
      addressBookUri: <js>'http://sample/addressBook'</js>, 
      birthDate: <js>'1946-08-12T00:00:00Z'</js>, 
      addresses: [
         {
            uri: <js>'http://sample/addressBook/address/1'</js>, 
            personUri: <js>'http://sample/addressBook/person/1'</js>, 
            id: 1, 
            street: <js>'100 Main Street'</js>, 
            city: <js>'Anywhereville'</js>, 
            state: <js>'NY'</js>, 
            zip: 12345, 
            isCurrent: <jk>true</jk>
         }
      ]
   }  
   </p>
   

   <!-- ======================================================================================================== -->
   <a id="GenericParsing"></a>
   <h3 class='topic' onclick='toggle(this)'>3.1 - Parsing into generic POJO models</h3>
   <div class='topic'>
      <p>
         The XML parser is not limited to parsing back into the original bean classes.<br>  
         If the bean classes are not available on the parsing side, the parser can also be used to 
            parse into a generic model consisting of <code>Maps</code>, <code>Collections</code>, and primitive
            objects.
      </p>
      <p>
         You can parse into any <code>Map</code> type (e.g. <code>HashMap</code>, <code>TreeMap</code>), but
            using <a href="../../../../org/apache/juneau/ObjectMap.html" title="class in org.apache.juneau"><code>ObjectMap</code></a> is recommended since it has many convenience methods
            for converting values to various types.<br> 
         The same is true when parsing collections.  You can use any Collection (e.g. <code>HashSet</code>, <code>LinkedList</code>)
            or array (e.g. <code>Object[]</code>, <code>String[]</code>, <code>String[][]</code>), but using 
            <a href="../../../../org/apache/juneau/ObjectList.html" title="class in org.apache.juneau"><code>ObjectList</code></a> is recommended.
      </p>
      <p>
         When the map or list type is not specified, or is the abstract <code>Map</code>, <code>Collection</code>, or <code>List</code> types, 
            the parser will use <code>ObjectMap</code> and <code>ObjectList</code> by default.
      </p>
   </div>
   

   <!-- ======================================================================================================== -->
   <a id="ParserConfigurableProperties"></a>
   <h3 class='topic' onclick='toggle(this)'>3.2 - Configurable properties</h3>
   <div class='topic'>
      <p>
         See the following classes for all configurable properties that can be used on this parser:
      </p>
      <ul>
         <li><a href="../../../../org/apache/juneau/BeanContext.html" title="class in org.apache.juneau"><code>BeanContext</code></a> - Bean context properties.
         <li><a href="../../../../org/apache/juneau/xml/XmlParserContext.html" title="class in org.apache.juneau.xml"><code>XmlParserContext</code></a> - Parser context properties.
      </ul>
   </div>      


   <!-- ======================================================================================================== -->
   <a id="ParserOtherNotes"></a>
   <h3 class='topic' onclick='toggle(this)'>3.3 - Other notes</h3>
   <div class='topic'>
      <ul class='spaced-list'>
         <li>Like all other Juneau parsers, the XML parser is thread safe and maintains an internal cache of bean classes encountered.<br>
            For performance reasons, it's recommended that parser be reused whenever possible instead of always creating new instances.
      </ul>
   </div>
   
</div>


<!-- ======================================================================================================== -->
<a id="RestApiSupport"></a>
<h2 class='topic' onclick='toggle(this)'>4 - REST API support</h2>
<div class='topic'>
   <p>
      Juneau provides fully-integrated support for XML serialization/parsing in the REST server and client APIs.<br>
      The next two sections describe these in detail.
   </p>

   <!-- ======================================================================================================== -->
   <a id="RestServerSupport"></a>
   <h3 class='topic' onclick='toggle(this)'>4.1 - REST server support</h3>
   <div class='topic'>
      <p>
         There are four general ways of defining REST interfaces with support for XML.
         Two using the built-in Juneau Server API, and two using the JAX-RS integration component.
      </p>
      <ul class='spaced-list'>
         <li>Create a servlet that subclasses from <a href="../../../../org/apache/juneau/rest/RestServletDefault.html" title="class in org.apache.juneau.rest"><code>RestServletDefault</code></a>.<br>
               This includes XML serialization/parsing support by default, in addition to several other media types.
         <li>Create a servlet that subclasses from <a href="../../../../org/apache/juneau/rest/RestServlet.html" title="class in org.apache.juneau.rest"><code>RestServlet</code></a> and specify the
               an XML serializer and/or parser using the <a href="../../../../org/apache/juneau/rest/annotation/RestResource.html#serializers--"><code>RestResource.serializers()</code></a> and
               <a href="../../../../org/apache/juneau/rest/annotation/RestResource.html#parsers--"><code>RestResource.parsers()</code></a> on the entire servlet class, or 
               the <a href="../../../../org/apache/juneau/rest/annotation/RestMethod.html#serializers--"><code>RestMethod.serializers()</code></a> and <a href="../../../../org/apache/juneau/rest/annotation/RestMethod.html#parsers--"><code>RestMethod.parsers()</code></a>
               annotations on individual methods within the class.
         <li>Register <a href="../../../../org/apache/juneau/rest/jaxrs/DefaultProvider.html" title="class in org.apache.juneau.rest.jaxrs"><code>DefaultProvider</code></a> with JAX-RS to provide XML support.<br>
               This includes XML serialization/parsing support by default, in addition to several other media types.
         <li>Create and register a subclass of <a href="../../../../org/apache/juneau/rest/jaxrs/BaseProvider.html" title="class in org.apache.juneau.rest.jaxrs"><code>BaseProvider</code></a> and specify the serializers and parsers to use on JAX-RS resources.
      </ul>
      <p>
         In general, the Juneau REST server API is much more configurable and easier to use than JAX-RS, but beware that the author may be slightly biased in this statement.
      </p>

      <!-- ======================================================================================================== -->
      <a id="RestServletDefault"></a>
      <h4 class='topic' onclick='toggle(this)'>4.1.1 - Using RestServletDefault</h4>
      <div class='topic'>
         <p>
            The quickest way to implement a REST resource with XML support is to create a subclass of <a href="../../../../org/apache/juneau/rest/RestServletDefault.html" title="class in org.apache.juneau.rest"><code>RestServletDefault</code></a>.<br>
            This class provides support for JSON, XML, HTML, URL-Encoding, and others.
         </p>
         <p>
            The <code>AddressBookResource</code> example shown in the first chapter uses the <code>RestServletJenaDefault</code> class
               which is a subclass of <code>RestServletDefault</code> with additional support for RDF languages.<br>
            The start of the class definition is shown below:
         </p>
         <p class='bcode'>
   <jc>// Proof-of-concept resource that shows off the capabilities of working with POJO resources.
   // Consists of an in-memory address book repository.</jc>
   <ja>@RestResource</ja>(
      messages=<js>"nls/AddressBookResource"</js>,
      title=<js>"$L{title}"</js>,
      description=<js>"$L{description}"</js>,
      htmldoc=<ja>@HtmlDoc</ja>(
         links=<js>"{options:'?method=OPTIONS'}"</js>
      ),
      properties={
         <ja>@Property</ja>(name=SerializerContext.<jsf>SERIALIZER_quoteChar</jsf>, value=<js>"'"</js>),
         <ja>@Property</ja>(name=HtmlSerializerContext.<jsf>HTML_uriAnchorText</jsf>, value=<jsf>TO_STRING</jsf>)
      },
      encoders=GzipEncoder.<jk>class</jk>
   )
   <jk>public class</jk> AddressBookResource <jk>extends</jk> RestServletJenaDefault {
         </p>
         <p>
            Notice how serializer and parser properties can be specified using the <code>@RestResource.properties()</code> annotation.<br>
            The <jsf>SERIALIZER_quoteChar</jsf> property is common to all serializers.<br>
            The remaining properties are specific to the HTML serializer.
         </p>
         <p>
            The <code>$L{...}</code> variable represent localized strings pulled from the resource bundle identified by the <code>messages</code> annotation.
            These variables are replaced at runtime based on the HTTP request locale.
            Several built-in runtime variable types are defined, and the API can be extended to include user-defined variables.
            See <a href="../../../../org/apache/juneau/rest/RestContext.html#getVarResolver--"><code>RestContext.getVarResolver()</code></a> for more information.
         </p>
         <p>
            This document won't go into all the details of the Juneau <code>RestServlet</code> class.<br>
            Refer to the <a class='doclink' href='../rest/package-summary.html#TOC'>org.apache.juneau.rest</a> documentation for more information on the REST servlet class in general.
         </p>
         <p>
            The rest of the code in the resource class consists of REST methods that simply accept and return POJOs.<br>
            The framework takes care of all content negotiation, serialization/parsing, and error handling.<br>
            Below are 3 of those methods to give you a general idea of the concept:
         </p>
         <p class='bcode'>
   <jc>// GET person request handler</jc>
   <ja>@RestMethod</ja>(name=<js>"GET"</js>, path=<js>"/people/{id}/*"</js>, rc={200,404})
   <jk>public</jk> Person getPerson(RestRequest req, RestResponse res, <ja>@Path</ja> <jk>int</jk> id) throws Exception {
      res.setPageTitle(req.getPathInfo());
      <jk>return</jk> findPerson(id);
   }
   
   <jc>// POST person handler</jc>
   <ja>@RestMethod</ja>(name=<js>"POST"</js>, path=<js>"/people"</js>, guards=AdminGuard.<jk>class</jk>, rc={307,404})
   <jk>public void</jk> createPerson(RestResponse res, <ja>@Body</ja> CreatePerson cp) <jk>throws</jk> Exception {
      Person p = addressBook.createPerson(cp);
      res.sendRedirect(p.<jf>uri</jf>);
   }

   <jc>// DELETE person handler</jc>
   <ja>@RestMethod</ja>(name=<js>"DELETE"</js>, path=<js>"/people/{id}"</js>, guards=AdminGuard.<jk>class</jk>, rc={200,404})
   <jk>public</jk> String deletePerson(RestResponse res, <ja>@Path</ja> <jk>int</jk> id) <jk>throws</jk> Exception {
      Person p = findPerson(id);
      addressBook.remove(p);
      <jk>return</jk> <js>"DELETE successful"</js>;         
   }  
         </p>
         <p>
            The resource class can be registered with the web application like any other servlet, or can be 
               defined as a child of another resource through the <a href="../../../../org/apache/juneau/rest/annotation/RestResource.html#children--"><code>RestResource.children()</code></a> annotation.
      </div>

      <!-- ======================================================================================================== -->
      <a id="RestServlet"></a>
      <h4 class='topic' onclick='toggle(this)'>4.1.2 - Using RestServlet with annotations</h4>
      <div class='topic'>
         <p>
            For fine-tuned control of media types, the <a href="../../../../org/apache/juneau/rest/RestServlet.html" title="class in org.apache.juneau.rest"><code>RestServlet</code></a> class 
               can be subclassed directly.<br>
            The serializers/parsers can be specified through annotations at the class and/or method levels.
         </p>
         <p>
            An equivalent <code>AddressBookResource</code> class could be defined to only support XML using
               the following definition:
         </p>
         <p class='bcode'>
   <ja>@RestResource</ja>(
      serializers={XmlSerializer.<jk>class</jk>},
      parsers={XmlParser.<jk>class</jk>},
      properties={
         <ja>@Property</ja>(name=SerializerContext.<jsf>SERIALIZER_quoteChar</jsf>, value=<js>"'"</js>)
      }
   )
   <jk>public class</jk> AddressBookResource <jk>extends</jk> RestServlet {
         </p>
         <p>
            Likewise, serializers and parsers can be specified/augmented/overridden at the method level like so:
         </p>
         <p class='bcode'>
   <jc>// GET person request handler</jc>
   <ja>@RestMethod</ja>(name=<js>"GET"</js>, path=<js>"/people/{id}/*"</js>, rc={200,404},
      serializers={XmlSerializer.<jk>class</jk>},
      parsers={XmlParser.<jk>class</jk>},
      properties={
         <ja>@Property</ja>(name=SerializerContext.<jsf>SERIALIZER_quoteChar</jsf>, value=<js>"'"</js>)
      }
   )
   <jk>public</jk> Person getPerson(RestRequest req, RestRequest res, <ja>@Path</ja> <jk>int</jk> id) throws Exception {
      res.setPageTitle(req.getPathInfo());
      <jk>return</jk> findPerson(id);
   }
         </p>
         <p>
            The <a href="../../../../org/apache/juneau/rest/annotation/RestMethod.html#serializersInherit--"><code>RestMethod.serializersInherit()</code></a> and 
               <a href="../../../../org/apache/juneau/rest/annotation/RestMethod.html#parsersInherit--"><code>RestMethod.parsersInherit()</code></a> control how various artifacts
               are inherited from the parent class.<br>
            Refer to <a class='doclink' href='../rest/package-summary.html#TOC'>org.apache.juneau.rest</a> for additional information on using these annotations.
         </p>
      </div>

      <!-- ======================================================================================================== -->
      <a id="DefaultProvider"></a>
      <h4 class='topic' onclick='toggle(this)'>4.1.3 - Using JAX-RS DefaultProvider</h4>
      <div class='topic'>
         <p>
            XML media type support in JAX-RS can be achieved by using the <a href="../../../../org/apache/juneau/rest/jaxrs/DefaultProvider.html" title="class in org.apache.juneau.rest.jaxrs"><code>DefaultProvider</code></a> class.<br>
            It implements the JAX-RS <code>MessageBodyReader</code> and <code>MessageBodyWriter</code> interfaces for all Juneau supported media types.
         </p>
         <p>
            The <code>DefaultProvider</code> class definition is shown below:
         </p>
         <p class='bcode'>
   <ja>@Provider</ja>
   <ja>@Produces</ja>(
      <js>"application/json,text/json,"</js>+                    <jc>// JsonSerializer</jc>
      <js>"application/json+simple,text/json+simple,"</js>+      <jc>// JsonSerializer.Simple</jc>
      <js>"application/json+schema,text/json+schema,"</js>+      <jc>// JsonSchemaSerializer</jc>
      <js>"text/xml,"</js>+                                      <jc>// XmlDocSerializer</jc>
      <js>"text/xml+simple,"</js>+                               <jc>// XmlDocSerializer.Simple</jc>
      <js>"text/xml+schema,"</js>+                               <jc>// XmlSchemaDocSerializer</jc>
      <js>"text/html,"</js>+                                     <jc>// HtmlDocSerializer</jc>
      <js>"application/x-www-form-urlencoded,"</js>+             <jc>// UrlEncodingSerializer</jc>
      <js>"text/xml+soap,"</js>+                                 <jc>// SoapXmlSerializer</jc>
      <js>"application/x-java-serialized-object"</js>            <jc>// JavaSerializedObjectSerializer</jc>
   )
   <ja>@Consumes</ja>( 
      <js>"application/json,text/json,"</js>+                    <jc>// JsonParser</jc>
      <js>"text/xml,"</js>+                                      <jc>// XmlParser</jc>
      <js>"text/html,"</js>+                                     <jc>// HtmlParser</jc>
      <js>"application/x-www-form-urlencoded,"</js>+             <jc>// UrlEncodingParser</jc>
      <js>"application/x-java-serialized-object"</js>            <jc>// JavaSerializedObjectParser</jc>
   )
   <ja>@JuneauProvider</ja>(
      serializers={
         JsonSerializer.<jk>class</jk>,
         JsonSerializer.Simple.<jk>class</jk>,
         JsonSchemaSerializer.<jk>class</jk>,
         XmlDocSerializer.<jk>class</jk>,
         XmlDocSerializer.Simple.<jk>class</jk>,
         XmlSchemaDocSerializer.<jk>class</jk>,
         HtmlDocSerializer.<jk>class</jk>,
         UrlEncodingSerializer.<jk>class</jk>,
         SoapXmlSerializer.<jk>class</jk>,
         JavaSerializedObjectSerializer.<jk>class</jk>
      },
      parsers={
         JsonParser.<jk>class</jk>,
         XmlParser.<jk>class</jk>,
         HtmlParser.<jk>class</jk>,
         UrlEncodingParser.<jk>class</jk>,
         JavaSerializedObjectParser.<jk>class</jk>,
      }
   )
   <jk>public final class</jk> DefaultProvider <jk>extends</jk> BaseProvider {}
         </p>
         <p>
            That's the entire class.  It consists of only annotations to hook up media types to Juneau serializers and parsers.
            The <ja>@Provider</ja>, <ja>@Produces</ja>, and <ja>@Consumes</ja> annotations are standard JAX-RS annotations, and the <ja>@JuneauProvider</ja> annotation is from Juneau.
         </p>
         <p>
            To enable the provider, you need to make the JAX-RS environment aware of it.
            In Wink, this is accomplished by adding an entry to a config file.
         </p>
         <p class='bcode'>
   <xt>&lt;web-app</xt> <xa>version</xa>=<xs>"2.3"</xs><xt>&gt;</xt>
      <xt>&lt;servlet&gt;</xt>
         <xt>&lt;servlet-name&gt;</xt>WinkService<xt>&lt;/servlet-name&gt;</xt>
         <xt>&lt;servlet-class&gt;</xt>org.apache.wink.server.internal.servlet.RestServlet<xt>&lt;/servlet-class&gt;</xt>
         <xt>&lt;init-param&gt;</xt>
            <xt>&lt;param-name&gt;</xt>applicationConfigLocation<xt>&lt;/param-name&gt;</xt>
            <xt>&lt;param-value&gt;</xt>/WEB-INF/wink.cfg<xt>&lt;/param-value&gt;</xt>
         <xt>&lt;/init-param&gt;</xt>
      <xt>&lt;/servlet&gt;</xt>
         </p>
         <p>
            Simply include a reference to the provider in the configuration file.
         <p class='bcode'>
   org.apache.juneau.rest.jaxrs.DefaultProvider
         </p>
         <p>
            Properties can be specified on providers through the <a href="../../../../org/apache/juneau/rest/jaxrs/JuneauProvider.html#properties--"><code>JuneauProvider.properties()</code></a> annotation.<br>
            Properties can also be specified at the method level by using the <a href="../../../../org/apache/juneau/rest/annotation/RestMethod.html#properties--"><code>RestMethod.properties()</code></a> annotation, like so:
         </p>
         <p class='bcode'>
   <ja>@GET</ja>
   <ja>@Produces</ja>(<js>"*/*"</js>)
   <ja>@RestMethod</ja>( <jc>/* Override some properties */</jc>
      properties={
         <ja>@Property</ja>(name=SerializerContext.<jsf>SERIALIZER_quoteChar</jsf>, value=<js>"'"</js>)
      }
   )
   <jk>public</jk> Message getMessage() {
      <jk>return</jk> message;
   }
         </p>
         <h6 class='topic'>Limitations</h6>
         <p>
            In general, the Juneau REST API is considerably more flexible than the JAX-RS API, since you can specify and override
               serializers, parsers, properties, transforms, converters, guards, etc... at both the class and method levels.<br>
            Therefore, the JAX-RS API has the following limitations that the Juneau Server API does not:
         </p>
         <ul class='spaced-list'>
            <li>The ability to specify different media type providers at the class and method levels.<br> 
               For example, you may want to use <code>XmlSerializer</code> with one set of properties on 
                  one class, and another instance with different properties on another class.<br>
               There is currently no way to define this at the class level.<br>
               You can override properties at the method level, but this can be cumbersome since it would have to be
                  done for all methods in the resource.
            <li>The Juneau Server API allows you to manipulate properties programatically through the <a href="../../../../org/apache/juneau/rest/RestResponse.html#setProperty-java.lang.String-java.lang.Object-"><code>RestResponse.setProperty(String,Object)</code></a>
               method, and through the <a href="../../../../org/apache/juneau/rest/annotation/Properties.html" title="annotation in org.apache.juneau.rest.annotation"><code>Properties</code></a> annotation.<br>
               There is no equivalent in JAX-RS.
         </ul>
      </div>

      <!-- ======================================================================================================== -->
      <a id="BaseProvider"></a>
      <h4 class='topic' onclick='toggle(this)'>4.1.4 - Using JAX-RS BaseProvider with annotations</h4>
      <div class='topic'>
         <p>
            To provide support for only XML media types, you can define your own provider class, like so:
         </p>
         <p class='bcode'>
   <ja>@Provider</ja>
   <ja>@Produces</ja>(
      <js>"text/xml,"</js>+                                     <jc>// XmlDocSerializer</jc>
      <js>"text/xml+simple"</js>                                <jc>// XmlDocSerializer.Simple</jc>
   )
   <ja>@Consumes</ja>(
      <js>"text/xml"</js>                                       <jc>// XmlParser</jc>
   )
   <ja>@JuneauProvider</ja>(
      serializers={
         XmlDocSerializer.<jk>class</jk>,
         XmlDocSerializer.Simple.<jk>class</jk>
      },
      parsers={
         XmlParser.<jk>class</jk>,
      }
      properties={
         <ja>@Property</ja>(name=SerializerContext.<jsf>SERIALIZER_quoteChar</jsf>, value=<js>"'"</js>)
      }
   )
   <jk>public final class</jk> MyRdfProvider <jk>extends</jk> BaseProvider {}
         </p>
         <p>
            Then register it with Wink the same way as <code>DefaultProvider</code>.
         </p>
      </div>

   </div>

   <!-- ======================================================================================================== -->
   <a id="RestClientSupport"></a>
   <h3 class='topic' onclick='toggle(this)'>4.2 - REST client support</h3>
   <div class='topic'>
      <p>
         The <a href="../../../../org/apache/juneau/rest/client/RestClient.html" title="class in org.apache.juneau.rest.client"><code>RestClient</code></a> class provides an easy-to-use REST client interface with 
            pluggable media type handling using any of the Juneau serializers and parsers.<br>
         Defining a client to support XML media types on HTTP requests and responses can be done in one line of code:
      </p>
      <p class='bcode'>
   <jc>// Create a client to handle XML requests and responses.</jc>
   RestClient client = <jk>new</jk> RestClientBuilder(XmlSerializer.<jk>class</jk>, XmlParser.<jk>class</jk>).build();
      </p>
      <p>
         The client handles all content negotiation based on the registered serializers and parsers.
      </p>
      <p>
         The following code is pulled from the main method of the <code>ClientTest</code> class in the sample web application, and
            is run against the <code>AddressBookResource</code> class running within the sample app.<br>
         It shows how the client can be used to interact with the REST API while completely hiding the negotiated content type and working with nothing more than beans.
      </p>
      <h6 class='figure'>Example</h6>
      <p class='bcode'>
   String root = <js>"http://localhost:9080/sample/addressBook"</js>;
   
   <jc>// Get the current contents of the address book</jc>
   AddressBook ab = client.doGet(root).getResponse(AddressBook.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"Number of entries = "</js> + ab.size());
   
   <jc>// Delete the existing entries</jc>
   <jk>for</jk> (Person p : ab) {
      String r = client.doDelete(p.<jf>uri</jf>).getResponse(String.<jk>class</jk>);
      System.<jsm>out</jsm>.println(<js>"Deleted person "</js> + p.<jf>name</jf> + <js>", response = "</js> + r);
   }
   
   <jc>// Make sure they're gone</jc>
   ab = client.doGet(root).getResponse(AddressBook.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"Number of entries = "</js> + ab.size());
   
   <jc>// Add 1st person again</jc>
   CreatePerson cp = <jk>new</jk> CreatePerson(
      <js>"Barack Obama"</js>, 
      <jsm>toCalendar</jsm>(<js>"Aug 4, 1961"</js>),
      <jk>new</jk> CreateAddress(<js>"1600 Pennsylvania Ave"</js>, <js>"Washington"</js>, <js>"DC"</js>, 20500, <jk>true</jk>),
      <jk>new</jk> CreateAddress(<js>"5046 S Greenwood Ave"</js>, <js>"Chicago"</js>, <js>"IL"</js>, 60615, <jk>false</jk>)
   ); 
   Person p = client.doPost(root + <js>"/people"</js>, cp).getResponse(Person.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"Created person "</js> + p.<jf>name</jf> + <js>", uri = "</js> + p.<jf>uri</jf>);
   
   <jc>// Add 2nd person again, but add addresses separately</jc>
   cp = <jk>new</jk> CreatePerson(
      <js>"George Walker Bush"</js>, 
      toCalendar(<js>"Jul 6, 1946"</js>)
   );
   p = client.doPost(root + <js>"/people"</js>, cp).getResponse(Person.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"Created person "</js> + p.<jf>name</jf> + <js>", uri = "</js> + p.<jf>uri</jf>);
   
   <jc>// Add addresses to 2nd person</jc>
   CreateAddress ca = <jk>new</jk> CreateAddress(<js>"43 Prairie Chapel Rd"</js>, <js>"Crawford"</js>, <js>"TX"</js>, 76638, <jk>true</jk>);
   Address a = client.doPost(p.<jf>uri</jf> + <js>"/addresses"</js>, ca).getResponse(Address.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"Created address "</js> + a.<jf>uri</jf>);
            
   ca = <jk>new</jk> CreateAddress(<js>"1600 Pennsylvania Ave"</js>, <js>"Washington"</js>, <js>"DC"</js>, 20500, <jk>false</jk>);
   a = client.doPost(p.<jf>uri</jf> + "/addresses"</js>, ca).getResponse(Address.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"Created address "</js> + a.<jf>uri</jf>);
   
   <jc>// Find 1st person, and change name</jc>
   Person[] pp = client.doGet(root + <js>"?q={name:\"'Barack+Obama'\"}"</js>).getResponse(Person[].<jk>class</jk>);
   String r = client.doPut(pp[0].<jf>uri</jf> + <js>"/name"</js>, <js>"Barack Hussein Obama"</js>).getResponse(String.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"Changed name, response = "</js> + r);
   p = client.doGet(pp[0].<jf>uri</jf>).getResponse(Person.<jk>class</jk>);
   System.<jsm>out</jsm>.println(<js>"New name = "</js> + p.<jf>name</jf>);
      </p>
      <h6 class='figure'>Results</h6>
      <p class='bcode'>
   Number of entries = 2
   Deleted person Barack Obama, response = DELETE successful
   Deleted person George Walker Bush, response = DELETE successful
   Number of entries = 0
   Created person Barack Obama, uri = http://localhost:9080/sample/addressBook/people/3
   Created person George Walker Bush, uri = http://localhost:9080/sample/addressBook/people/4
   Created address http://localhost:9080/sample/addressBook/addresses/7
   Created address http://localhost:9080/sample/addressBook/addresses/8
   Changed name, response = PUT successful
   New name = Barack Hussein Obama
      </p>
   </div>
</div>
<p align="center"><i><b>*** fín ***</b></i></p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/juneau/utils/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../org/apache/juneau/xml/annotation/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/juneau/xml/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.apache.org/">Apache</a>. All rights reserved.</small></p>
</body>
</html>
